<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <title>Âº†Êú¨Êô∫ÂíåÊØîËµõËÆ∞ÂΩïÊ±áÊÄª</title>
    <style>
    
        .header {
            position: fixed;
            left: 380px;    /* ÂØºËà™Ê†è320 + Â∑¶Âè≥ËæπË∑ù20x2 + Èó¥Èöî20 */
            right: 20px;    /* Ë∑ùÁ¶ªÂè≥‰æß20px */
            top: 20px;      /* ‰∏éÂØºËà™Ê†èÈ°∂ÈÉ®ÂØπÈΩê */
            height: 150px;
            background: #e0ffff; /* ÂêåÂØºËà™Ê†èÂ∫ïËâ≤ */
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5em;
            font-weight: bold;
            /*color: #333;*/
            box-shadow: 0 2px 10px rgba(0,0,0,0.1); /* Ê∑ªÂä†ÊüîÂíåÈò¥ÂΩ± */
            flex-direction: column;
        }

        .title {
            margin: 0;
            font-size: 32px;
            color: #2F4F4F;
            margin-bottom: 15px;
        }

        /* ÊêúÁ¥¢Ê°ÜÂÆπÂô® */
        .search-container {
            width: 60%;
            max-width: 600px;
            display: flex;
            gap: 10px;
            align-items: stretch;
        }

        /* ÊêúÁ¥¢ËæìÂÖ•Ê°Ü */
        .search-input {
            flex: 1;
            height: 40px;
            border: 2px solid #5F9EA0;
            border-top-right-radius: 25px;
            border-bottom-right-radius: 25px;
            padding: 0 20px;
            font-size: 16px;
            transition: all 0.3s;
            margin-left: -10px;
            color: #2F4F4F;
        }

        .search-filter{
            width: 100px;
            height: 44px;
            border: 2px solid #5F9EA0;
            border-right: 0px;
            border-top-left-radius: 25px;
            border-bottom-left-radius: 25px;
            padding: 0;
            font-size: 16px;
            text-align: center;
            color: #2F4F4F;

        }

        .search-input:focus {
            outline: none;
            box-shadow: 0 0 8px rgba(95,158,160,0.3);
        }

        /* ÊêúÁ¥¢ÊåâÈíÆ */
        .search-btn {
            width: 100px;
            border: none;
            border-radius: 25px;
            background: #5F9EA0;
            color: white;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .search-btn:hover {
            background: #4D7E80;
            transform: translateY(-1px);
        }

        .pingpong-icon {
            font-size: 30px ;
            text-align: center;
            transform: scaleX(-1);
            background-size: contain;

        }

        .content-area {
            position: fixed;
            left: 380px;    /* ‰∏éheaderÂêåÂÆΩ */
            right: 20px;
            top: 190px;     /* headerÈ´òÂ∫¶200 + È°∂ÈÉ®20 + Èó¥Èöî20 */
            bottom: 20px;   /* ‰∏ésidebarÂ∫ïÈÉ®ÂØπÈΩê */
            background: white;
            border-radius: 10px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.15);
            padding: 20px;
            box-sizing: border-box;
            overflow: auto; /* ÂÖÅËÆ∏ÂÜÖÂÆπÊªöÂä® */
            z-index: 0;     /* Á°Æ‰øùÂú®ÂØºËà™Ê†è‰∏ãÊñπ */

        }

        .banner{
            height: 40px;
            flex: 1;
            margin: 5px;
            background: #e0ffff;
            border-radius: 10px;
            box-shadow: 0 0 8px rgba(95,158,160,0.3);
            flex-direction: column;
            justify-content: center;
            display: flex;
            position: relative; /* Êñ∞Â¢û */
            padding-right: 100px; /* ‰∏∫ÂõæÊ†áÁïôÂá∫Á©∫Èó¥ */
        }

        .banner span {
            color: #2F4F4F;
            font-size: 18px;
            margin-left: 20px;
        }

        .content {
            height: calc(100% - 70px); /* Êñ∞Â¢û */
            margin: 20px 0;           /* Êñ∞Â¢û */
            /*margin-top: 30px;*/
            background: #e0ffff;
            border-radius: 10px;
            box-shadow: 0 0 8px rgba(95,158,160,0.3);
            margin-left : 50px;
            margin-right: 50px;
            flex: 1;             /* Êñ∞Â¢û */
            box-sizing: border-box;  /* Êñ∞Â¢û */
            display: flex;
            align-items: center;
            flex-direction: column;
            color: #2F4F4F;
            position: relative;
            overflow: auto;
        }

        .content p {
            margin-top: 5px;
        }

        /* Êñ∞Â¢ûÂØºËà™ÊåâÈíÆÂÆπÂô®Ê†∑Âºè */
        .nav-buttons {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            gap: 12px;
        }

        /* ÂØºËà™ÊåâÈíÆÈÄöÁî®Ê†∑Âºè */
        .nav-button {
            width: 30px;
            height: 30px;
            border-radius: 30%;
            background: #5F9EA0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            box-shadow:
                0 3px 6px rgba(0,0,0,0.16),
                inset 0 -2px 0 rgba(0,0,0,0.1);
            color: white;
            font-size: 16px;
            font-weight: bold;
            border: none;
        }

        /* ÊÇ¨ÂÅúÊïàÊûú */
        .nav-button:hover {
            background: #4D7E80;
            transform: translateY(-1px);
            box-shadow:
                0 5px 10px rgba(0,0,0,0.2),
                inset 0 -2px 0 rgba(0,0,0,0.15);
        }

        /* ÁÇπÂáªÊïàÊûú */
        .nav-button:active {
            transform: translateY(1px);
            box-shadow:
                0 2px 4px rgba(0,0,0,0.1),
                inset 0 2px 0 rgba(255,255,255,0.1);
        }

        /* ÁïôË®ÄÊùøÂÆπÂô®Ê†∑Âºè */
        .message-board {
            margin: 20px 0;
            padding: 20px;
            background: linear-gradient(145deg, #c8ffff, #a0e0e0);
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(95,158,160,0.2);
            width: 80%;

        }

        /* ËæìÂÖ•Ê°ÜÊ†∑Âºè */
        #messageInput {
            width: 95%;
            padding: 12px;
            border: 2px solid #5F9EA0;
            border-radius: 8px;
            margin-bottom: 10px;
            font-family: 'Noto Sans SC';
            resize: vertical;
            transition: all 0.3s;
            /*align-items: center;*/
        }

        #messageInput:focus {
            outline: none;
            box-shadow: 0 0 10px rgba(95,158,160,0.3);
        }

        /* Êèê‰∫§ÊåâÈíÆÊ†∑Âºè */
        #submitBtn {
            background: #5F9EA0;
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            float: right;
        }

        #submitBtn:hover {
            background: #4D7E80;
            transform: translateY(-2px);
            box-shadow: 0 3px 8px rgba(0,0,0,0.2);
        }

        /* ÁïôË®ÄÊ†∑Âºè */
        .message-bubble {
            position: absolute;
            padding: 10px 15px;
            background: white;
            border-radius: 15px;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.5s ease;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-5px) rotate(2deg); }
        }

        .message-bubble:hover {
            transform: scale(1.05) rotate(-2deg);
            z-index: 1;
            box-shadow: 3px 3px 15px rgba(0,0,0,0.2);
        }

        /* ÂØºËà™Ê†èÂÆπÂô® */
        .sidebar {
            position: fixed;
            left: 0;
            top: 20px;       /* È°∂ÈÉ®ÁïôÁôΩ */
            bottom: 20px;    /* Â∫ïÈÉ®ÁïôÁôΩ */
            width: 320px;
            background: #e0ffff;
            border-radius: 15px;  /* ÂúÜËßíÂçäÂæÑ */
            margin: 0 20px;  /* Â∑¶Âè≥ÁïôÁôΩ */
            padding: 15px;   /* ÂÜÖËæπË∑ù */
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            gap: 20px;       /* Â≠êÂÖÉÁ¥†Èó¥Ë∑ù */
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        /* ÈÄöÁî®ÂÜÖÂÆπÂå∫ÂùóÊ†∑Âºè */
        .menu-item {
            background: rgba(255, 255, 255, 0.5);  /* ÂçäÈÄèÊòéÁôΩËâ≤ */
            border-radius: 10px;  /* Á®çÂ∞èÁöÑÂúÜËßí */
            padding: 15px;       /* ÂÜÖËæπË∑ù */
            flex: 1;             /* Ëá™Âä®Â°´ÂÖÖÂâ©‰ΩôÁ©∫Èó¥ */
            min-height: 100px;   /* ÊúÄÂ∞èÈ´òÂ∫¶ */
            
            /* ÂÆâÂÖ®Èó¥Ë∑ù */
            margin: 10px;
            box-sizing: border-box;
            
            /* ÂºπÊÄßÂ∏ÉÂ±ÄÁî®‰∫éÂÜÖÈÉ®ÂÜÖÂÆπ */
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        /* ‰∏äÈÉ®Âå∫Âùó */
        .top-item {
            margin-top: 0;  /* È°∂ÈÉ®ÂèñÊ∂àÂ§ñËæπË∑ù */
        }

        /* ‰∏ãÈÉ®Âå∫Âùó */
        .bottom-item {
            margin-bottom: 0;  /* Â∫ïÈÉ®ÂèñÊ∂àÂ§ñËæπË∑ù */
        }

        .top-item div {
            color: #2F4F4F;
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            font-size: 18px;
            font-weight: 500;
            letter-spacing: 2px;
            padding: 12px 20px;
            margin: 8px 0;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            display: flex;
            align-items: center;
            gap: 15px;
            position: relative;
            padding-left: 40px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 5px;
        }




        /* ‰øÆÊîπÂéüÂØºËà™Ê†èÊ†∑Âºè */
        .sidebar {
            position: fixed;
            left: 20px;     /* Â¢ûÂä†Â∑¶‰æßÂÆö‰Ωç */
            top: 20px;
            bottom: 20px;
            width: 320px;
            /* ÂÖ∂‰ªñÂéüÊúâÊ†∑Âºè‰øùÊåÅ‰∏çÂèò... */
            z-index: 1;    /* Á°Æ‰øùÂØºËà™Ê†èÂú®Ê†áÈ¢òÊ†è‰∏äÊñπ */
        }



        /* ÂõæÊ†áÁâπÊïà */
        .menu-item div::before {
        
            font-size: 20px;
            transition: transform 0.3s;
        }

        .menu-item {
            overflow: auto;
        }

        .top-item div:nth-child(1)::before { content: "üèÜ"; } /* ÁîüÊ∂ØÊàêÂ∞± */
        .top-item div:nth-child(2)::before { content: "üìà"; } /* ÊäÄÊúØÂàÜÊûê */
        .top-item div:nth-child(3)::before { content: "üë§"; } /* ÂÖ≥‰∫éÈÄâÊâã */
        .top-item div:nth-child(4)::before { content: "üåè"; } /* ËØ≠Ë®ÄËÆæÁΩÆ */

        /* ÊÇ¨ÂÅúÊïàÊûú */
        .top-item div:hover {
            color: #5F9EA0; /* ‰∏ªÈ¢òËâ≤ */
            transform: translateX(5px);
            background: rgba(255, 255, 255, 0.7) !important;
            box-shadow: 3px 3px 12px rgba(95, 158, 160, 0.2);
        }

        .menu-item div:hover::before {
            transform: scale(1.2) rotate(-15deg); /* ÂõæÊ†áÂä®Áîª */
        }

        /* ÁÇπÂáªÊïàÊûú */
        .menu-item div:active {
            /*transform: translateX(10px) scale(0.96);*/
        }

        /* Â§öÁ∫ßËèúÂçïÊ†∑Âºè */
            .nav-item {
            background: rgba(255,255,255,0.3);
            border-radius: 6px;
            margin: 5px 0;
            padding: 10px 15px !important; /* Âº∫Âà∂Áªü‰∏ÄÂÜÖËæπË∑ù */
            cursor: pointer;
            transition: all 0.3s ease;
            display: block; /* Êîπ‰∏∫ÂùóÁ∫ßÂÖÉÁ¥† */
            text-align: left; /* Âº∫Âà∂Â∑¶ÂØπÈΩê */
            white-space: normal; /* ÂÖÅËÆ∏Êç¢Ë°å */
            word-wrap: break-word; /* ÈïøÂçïËØçÊç¢Ë°å */
        }


        /* ÁÆ≠Â§¥‰ΩçÁΩÆ‰øÆÊ≠£ */
        .nav-arrow {
            left: 20px;
            display: inline-block;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1); /* Êõ¥Âπ≥ÊªëÁöÑÁºìÂä®Êõ≤Á∫ø */
            transform-origin: center; /* Á°Æ‰øùÊóãËΩ¨‰∏≠ÂøÉÊ≠£Á°Æ */
        }

        /* Á°Æ‰øùÊñáÂ≠ó‰∏çË¶ÜÁõñÁÆ≠Â§¥ */
        .nav-item > span:first-child {
            margin-right: 8px;
        }

        .nav-item:hover {
            background: rgba(255,255,255,0.7);
            transform: translateX(5px);
        }



        .nav-child {
            margin-left: 10px;
            display: none;
        }

        .nav-child.show {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; max-height: 0; }
            to { opacity: 1; max-height: 1000px; }
        }

        /* ‰∏çÂêåÂ±ÇÁ∫ßÈ¢úËâ≤ */
        .nav-item.level-0 { color: #2F4F4F; font-weight: 600; }
        .nav-item.level-1 { color: #4682B4; }
        .nav-item.level-2 { color: #5F9EA0; }
        .nav-item.level-3 { color: #6CA6CD; }



        .nav-item.level-3::before {
            content: "‚Ä¢";  /* ‰øÆÊîπÊúÄÂêéÂ±ÇÁ∫ßÁöÑÊåáÁ§∫Á¨¶ */
            color: #5F9EA0;
            margin-right: 8px;
        }
        .nav-item.level-4 {
            color: #2F4F4F !important;
            background: rgba(255,255,255,0.9) !important;
            border: 2px solid #5F9EA0 !important;
            border-radius: 12px !important;
            padding: 18px !important;
            margin: 12px 0 !important;
            box-shadow: 
                0 3px 6px rgba(95,158,160,0.15),
                inset 0 -2px 0 rgba(95,158,160,0.1);
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            display: flex !important;
            justify-content: space-between;
            align-items: center;
            min-height: 80px;
        }

        /* ÊÇ¨ÂÅúÊïàÊûú */
        .nav-item.level-4:hover {
            transform: translateX(8px) scale(1.02);
            background: linear-gradient(145deg, #f0ffff, #d0f0f0) !important;
            box-shadow: 
                0 5px 15px rgba(95,158,160,0.25),
                inset 0 -3px 0 rgba(95,158,160,0.15);
        }

        /* ÊñáÂ≠óÊ†∑Âºè */
        .nav-item.level-4 span {
            font-size: 17px !important;
            font-weight: 500 !important;
            letter-spacing: 1px;
            position: relative;
            padding-left: 28px;
        }

        /* Ê∑ªÂä†Ë£ÖÈ•∞ÊÄßÂÖÉÁ¥† */
        .nav-item.level-4 span::before {
            content: "‚ö°";
            position: absolute;
            left: 0;
            top: -2px;
            font-size: 20px;
            color: #5F9EA0;
            animation: spark 1.5s ease-in-out infinite;
        }

        @keyframes spark {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.6; transform: scale(1.1); }
        }

        /* Âè≥‰æßÊï∞ÊçÆÊ†∑Âºè */
        .nav-item.level-4::after {
            content: "";
            display: block;
            width: 24px;
            height: 24px;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="%235F9EA0" d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>');
            opacity: 0.8;
            transition: transform 0.3s;
        }

        .nav-item.level-4:hover::after {
            transform: translateX(3px);
        }

        .match-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
            width: 90%;
            max-width: 600px;
        }

        .match-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .match-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid #5F9EA0;
            padding-bottom: 10px;
            margin-bottom: 15px;
        }

        .match-round {
            color: #2F4F4F;
            font-size: 18px;
            font-weight: 600;
        }

        .match-result {
            background: #5F9EA0;
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 14px;
        }

        .match-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .detail-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .detail-label {
            color: #5F9EA0;
            font-weight: 500;
            min-width: 60px;
        }

        .detail-value {
            color: #2F4F4F;
            flex: 1;
        }

        .no-matches {
            color: #5F9EA0;
            font-size: 18px;
            text-align: center;
            padding: 30px;
        }

        .banner a {
            color: #2F4F4F !important;
            text-decoration: none !important;
            font-size: 18px;
            /*padding: 2px 5px;*/
            border-radius: 4px;
            /*transition: all 0.3s;*/
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
            padding: 2px 4px;
            border-radius: 4px;
        }

        .banner a:hover {
            background: rgba(95,158,160,0.1);
            color: #5F9EA0 !important;
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(95,158,160,0.15)
        }

        .year-list .nav-item,
        .match-list .nav-item {
            transition: all 0.3s ease;
        }

        .year-list .nav-item:hover,
        .match-list .nav-item:hover {
            transform: translateX(5px);
            background: rgba(95,158,160,0.2) !important;
        }

        .match-list {
            max-width: 800px;
            margin: 0 auto;
        }

        .search-highlight {
            background-color: #ffeb3b;
            padding: 0 2px;
            border-radius: 3px;
        }

        .match-card {
            transition: all 0.3s;
            margin-bottom: 15px;
        }

        .match-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(95,158,160,0.2);
        }

        .player-highlight {
            background-color: #ffeb3b;
            font-weight: bold;
        }

        /* È°πÁõÆÂç°ÈÄöÁî®Ê†∑Âºè */
        .content .nav-item.level-1,
        .content .nav-item.level-2,
        .content .nav-item.level-3 {
            width: 160px !important;
            height: 160px !important;
            border-radius: 20px !important;
            background: white !important;
            margin: 15px !important;
            padding: 20px !important;
            display: flex !important;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: 0 4px 12px rgba(95,158,160,0.15) !important;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            cursor: pointer;
            border: 2px solid #5F9EA0;
        }

        /* ÊñáÂ≠óÊ†∑Âºè */
        .content .nav-item.level-1 span,
        .content .nav-item.level-2 span,
        .content .nav-item.level-3 span {
            font-size: 16px;
            color: #2F4F4F !important;
            font-weight: normal !important;
            text-align: center;
            line-height: 1.4;
        }

        /* ÂâØÊ†áÈ¢òÊ†∑Âºè */
        .content .nav-item.level-1 span:nth-child(2),
        .content .nav-item.level-2 span:nth-child(2) {
            font-size: 13px;
            color: #5F9EA0 !important;
            margin-top: 12px;
        }

        /* Âç°ÁâáÂÆπÂô®ÊéíÂàóÊñπÂºè */
        .year-list,
        .match-list {
            display: flex !important;
            flex-wrap: wrap !important;
            gap: 20px !important;
            padding: 20px 0 !important;
            justify-content: flex-start !important;
        }

        /* ÊÇ¨ÂÅúÊïàÊûú */
        .content .nav-item.level-1:hover,
        .content .nav-item.level-2:hover,
        .content .nav-item.level-3:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 8px 20px rgba(95,158,160,0.25) !important;
        }

        .time {
            display: flex;
            gap:8px;
            margin-top: 10px;
            color: #5F9EA0;
            font-size: 14px;
            align-items: center;
/*             margin-right: 400px; */
        }

        .search-container {
            position: relative; /* ‰∏∫ÊèêÁ§∫Ê°ÜÂÆö‰ΩçÊèê‰æõÂü∫ÂáÜ */
        }
        
        .search-alert {
            position: absolute;
            bottom: -40px;
            left: 120px; /* ÂØπÈΩêÊêúÁ¥¢ËæìÂÖ•Ê°Ü */
            background: #fff;
            color: #CD5C5C;
            font-size: 14px;
            padding: 8px 15px;
            border-radius: 4px;
            box-shadow: 0 3px 6px rgba(0,0,0,0.1);
            border: 1px solid #ffcccc;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            pointer-events: none; /* Èò≤Ê≠¢Âπ≤Êâ∞ÁÇπÂáªÊìç‰Ωú */
            z-index: 999;
        }
        
        .search-alert::before {
            content: '';
            position: absolute;
            top: -6px;
            left: 20px;
            width: 12px;
            height: 12px;
            background: #fff;
            border-left: 1px solid #ffcccc;
            border-top: 1px solid #ffcccc;
            transform: rotate(45deg);
        }
        
        .search-alert.show {
            opacity: 1;
            transform: translateY(0);
        }

        .honor-scroll{
            border-radius: 12px;
            transition: all 0.3s;
        }
        .honor-scroll:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(95,158,160,0.2);
        }

        .honor-scroll-container {
            height: 320px;
            overflow: hidden;
            position: relative;
            background: rgba(255,255,255,0.9);
            border-radius: 12px;
            padding: 15px 15px 40px;
        }

        .honor-scroll-container::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 40px;
            background: linear-gradient(transparent, white 90%);
            z-index: 1;
        }

        .honor-item {
            padding: 12px;
            margin: 10px 0;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 6px rgba(95,158,160,0.1);
            animation: scroll 300s linear infinite;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .honor-time {
            color: #5F9EA0;
            font-size: 0.9em;
            min-width: 80px;
        }

        .honor-title {
            color: #2F4F4F;
            flex: 1;
        }

        .honor-medal {
            padding: 4px 12px;
            border-radius: 15px;
            font-weight: bold;
            &.gold { background: #FFD700; color: #856404; }
            &.silver { background: #C0C0C0; color: #515151; }
            &.bronze { background: #CD7F32; color: #fff; }
        }

        .nav-button:disabled {
            background: #c0c0c0 !important;
            cursor: not-allowed !important;
            opacity: 0.5;
            box-shadow: none !important;
        }
        
        .nav-button:disabled:hover {
            transform: none !important;
        }

        .radar-container {
            float: left;
            width: 300px;
            height: 300px;
            margin: 20px auto;
            opacity: 0;
            transform: scale(0.8);
            animation: radarEntrance 1s ease-out forwards;
        }

        @keyframes radarEntrance {
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .radar-chart {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .analysis-text {
            margin-left: 350px; /* ÁªôÈõ∑ËææÂõæÁïôÂá∫Á©∫Èó¥ */
            width: calc(100% - 400px);
            float: right;
            background: rgba(255,255,255,0.9);
            border-radius: 12px;
            padding: 20px;
            margin: 20px;
            box-shadow: 0 4px 12px rgba(95,158,160,0.15);
            color: #2F4F4F;
            line-height: 1.6;
        }

        .section-title {
            color: #5F9EA0;
            font-size: 1.2em;
            margin: 15px 0 10px;
            border-left: 4px solid #5F9EA0;
            padding-left: 10px;
        }

        .highlight {
            color: #4D7E80;
            font-weight: 500;
        }

        .info-grid .info-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: rgba(95,158,160,0.05);
            border-radius: 10px;
            margin: 10px 0;
        }

        .info-item .icon {
            font-size: 24px;
            flex-shrink: 0;
        }

        .info-content .label {
            color: #5F9EA0;
            font-weight: 500;
            font-size: 0.95em;
        }

        .info-content .value {
            color: #2F4F4F;
            margin-top: 5px;
            font-size: 0.9em;
        }

        /* ÊàêÂ∞±Â±ïÁ§∫ */
        .achievement-grid {
            display: grid;
            gap: 15px;
            margin-top: 20px;
        }

        .achievement-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: rgba(95,158,160,0.05);
            border-radius: 10px;
            transition: transform 0.3s;
        }

        .achievement-item:hover {
            transform: translateX(10px);
        }

        .achievement-item .medal {
            font-size: 32px;
            flex-shrink: 0;
        }

        .achievement-item h4 {
            color: #5F9EA0;
            margin: 0 0 5px 0;
        }

        .achievement-item p {
            color: #2F4F4F;
            margin: 0;
            font-size: 0.9em;
        }


    </style>


    <script type="text/javascript">
        
        let data = null;
        let originalContent = null;
        let currentSearchKeyword = null;

        let historyStack = [];
        let currentIndex = -1;
        const MAX_HISTORY = 50;


        


        // let currentPath = ['ÂΩìÂâçÈ°µ:È¶ñÈ°µ'];
        function createMenu(parentElement, data, level = 0) {
            Object.entries(data).forEach(([key, value]) => {
                const item = document.createElement('div');
                item.className = `nav-item level-${level}`;
                item.textContent = key;
                item.style.paddingLeft = `${30 + level * 20}px`;

                const arrow = document.createElement('span');
                arrow.className = 'nav-arrow';
                arrow.textContent = '‚ñ∂';
                item.prepend(arrow);

                const childContainer = document.createElement('div');
                childContainer.className = 'nav-child';

                parentElement.appendChild(item);
                parentElement.appendChild(childContainer);

                item.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const isActive = !childContainer.classList.contains('show');

                    if(level === 0) { // Âè™Â§ÑÁêÜ‰∏ÄÁ∫ßËèúÂçï
                        const contentDiv = document.querySelector('.content');
                        if(!originalContent) { // È¶ñÊ¨°‰øùÂ≠òÂéüÂßãÂÜÖÂÆπ
                            originalContent = contentDiv.innerHTML; 
                        }
                        
                        if(isActive) { // Â±ïÂºÄÊó∂Ê∏ÖÁ©∫ÂÜÖÂÆπ
                            contentDiv.innerHTML = '';
                        } else { // Êî∂ÂõûÊó∂ÊÅ¢Â§çÂÜÖÂÆπ
                            contentDiv.innerHTML = originalContent;
                            // ÈáçÊñ∞ÁªëÂÆöÁïôË®ÄÊùø‰∫ã‰ª∂
                            loadHomeContent();
                            // document.getElementById('submitBtn').onclick = submitMessage;
                            // document.getElementById('messageInput').onkeydown = function(e) {
                            //     if (e.key === 'Enter' && !e.shiftKey) {
                            //         e.preventDefault();
                            //         submitMessage();
                            //     }
                            // };
                        }
                    }
                    
                    // Êõ¥Êñ∞Ë∑ØÂæÑÈÄªËæë
                    if (isActive) {
                        currentPath = currentPath.slice(0, level + 1); // +1‰øùÁïô"ÂΩìÂâçÈ°µ:È¶ñÈ°µ"
                        currentPath[level + 1] = key;
                    } else {
                        // Êî∂ÂõûÊó∂ÁßªÈô§ÂΩìÂâçÂ±ÇÁ∫ß
                        if (level === 2) { // ÊØîËµõÂêçÁß∞ÊòØÁ¨¨‰∏âÁ∫ß
                            setTimeout(() => loadContentByPath(), 0);
                        }
                        currentPath = currentPath.slice(0, level + 1);
                    }
                    syncMenuState(level + (isActive ? 1 : 0));
                    updateBreadcrumb();
                    loadContentByPath();

                    const closeChildren = (container) => {
                        Array.from(container.children).forEach(el => {
                            if (el.classList.contains('nav-item')) {
                                const childContainer = el.nextElementSibling;
                                if (childContainer?.classList.contains('nav-child')) {
                                    childContainer.classList.remove('show');
                                    el.querySelector('.nav-arrow').style.transform = 'none';
                                    closeChildren(childContainer); // ÈÄíÂΩíÂÖ≥Èó≠Ê∑±Â±ÇÂ≠êËèúÂçï
                                }
                            }
                        });
                    };

                    // ÂÖ≥Èó≠ÂêåÁ∫ßËèúÂçï
                    Array.from(parentElement.children)
                        .filter(el => el !== item && el !== childContainer)
                        .forEach(el => {
                            el.classList.remove('active');
                            const siblingChildContainer = el.nextElementSibling;
                            if (siblingChildContainer) {
                                siblingChildContainer.classList.remove('show');
                                closeChildren(siblingChildContainer); // ÂÖ≥ÈîÆÊñ∞Â¢ûÔºöÈÄíÂΩíÂÖ≥Èó≠Â≠êËèúÂçï
                            }
                            const arrowElement = el.querySelector('.nav-arrow');
                            if (arrowElement) arrowElement.style.transform = 'none';
                        });
                    if (!isActive) {
                        closeChildren(childContainer);
                    }

                    arrow.style.webkitTransform = isActive ? 'rotate(90deg)' : 'none';
                    arrow.style.transform = isActive ? 'rotate(90deg)' : 'none';
                    childContainer.classList.toggle('show', isActive);
                });

                if (typeof value === 'object') {
                    if (Array.isArray(value)) {
                        value.forEach(event => {
                            Object.entries(event).forEach(([eventType, eventData]) => {
                                if(eventType === 'ÊØîËµõÂêçÁß∞') {
                                    Object.entries(eventData).forEach(([matchName, matchDetails]) => {
                                        const matchItem = createMenuItem(matchName, level + 1);
                                        const propContainer = document.createElement('div');
                                        propContainer.className = 'nav-child';

                                        // Â§ÑÁêÜÊÄßË¥®Êï∞ÊçÆ
                                        if(matchDetails.ÊÄßË¥®) {
                                            matchDetails.ÊÄßË¥®.forEach(propObj => {
                                                Object.entries(propObj).forEach(([propKey]) => {
                                                    const propItem = createMenuItem(propKey, level + 2, true);
                                                    
                                                    // ÊÄßË¥®È°πÁÇπÂáªÂ§ÑÁêÜ
                                                    propItem.addEventListener('click', (e) => {
                                                        e.stopPropagation();

                                                        currentPath = [
                                                            'ÂΩìÂâçÈ°µ:È¶ñÈ°µ',
                                                            currentPath[1],  // Á±ªÂà´
                                                            currentPath[2],  // Âπ¥‰ªΩ
                                                            currentPath[3],  // ÊØîËµõÂêçÁß∞
                                                            propKey          // ÊÄßË¥®
                                                        ];
                                                        // currentPath = currentPath.slice(0, 3); // ‰øùÁïôÂà∞ÊØîËµõÂêçÁß∞Â±ÇÁ∫ß
                                                        // currentPath[3] = propKey; // Áõ¥Êé•ÊõøÊç¢ÊÄßË¥®‰ΩçÁΩÆ
                                                        const category = currentPath[1];
                                                        const year = String(currentPath[2]);      // Âπ¥‰ªΩ
                                                        const matchName = currentPath[3]; // ÊØîËµõÂêçÁß∞
                                                        const property = propKey;         // u15/u18
                                                        console.log(data);
                                                        console.log(currentPath);

                                                        // ‰ªéÊï∞ÊçÆ‰∏≠Ëé∑ÂèñÊØîËµõËØ¶ÊÉÖ
                                                        // const matches = data[year]
                                                        //     .find(item => item.ÊØîËµõÂêçÁß∞[matchName])
                                                        //     ?.ÊØîËµõÂêçÁß∞[matchName].ÊÄßË¥®
                                                        //     .find(p => p[property])?.[property];

                                                        // // Ê∏ÖÁ©∫ÂÜÖÂÆπÂå∫Âüü
                                                        // const contentDiv = document.querySelector('.content');
                                                        // contentDiv.innerHTML = '';

                                                        // // ÂàõÂª∫Ê†áÈ¢ò
                                                        // const title = document.createElement('h2');
                                                        // title.style.color = '#2F4F4F';
                                                        // title.style.marginBottom = '30px';
                                                        // title.textContent = `${matchName} - ${property.toUpperCase()} ÊØîËµõËØ¶ÊÉÖ`;
                                                        // contentDiv.appendChild(title);

                                                        // if (matches && matches.length > 0) {
                                                        //     matches.forEach(match => {
                                                        //         // ÂàõÂª∫ÊØîËµõÂç°Áâá
                                                        //         const card = document.createElement('div');
                                                        //         card.className = 'match-card';

                                                        //         // Âç°ÁâáÂ§¥ÈÉ®ÔºàËΩÆÊ¨° + ÁªìÊûúÔºâ
                                                        //         const header = document.createElement('div');
                                                        //         header.className = 'match-header';
                                                                
                                                        //         const round = document.createElement('span');
                                                        //         round.className = 'match-round';
                                                        //         round.textContent = match.ËΩÆÊ¨°;
                                                                
                                                        //         const result = document.createElement('span');
                                                        //         result.className = 'match-result';
                                                        //         result.textContent = match.ÁªìÊûú;
                                                        //         result.style.backgroundColor = match.ÁªìÊûú === 'ËÉú' ? '#5F9EA0' : '#CD5C5C';

                                                        //         header.appendChild(round);
                                                        //         header.appendChild(result);

                                                        //         // ÊØîËµõËØ¶ÊÉÖ
                                                        //         const details = document.createElement('div');
                                                        //         details.className = 'match-details';

                                                        //         const createDetailItem = (label, value) => {
                                                        //             const container = document.createElement('div');
                                                        //             container.className = 'detail-item';
                                                                    
                                                        //             const labelSpan = document.createElement('span');
                                                        //             labelSpan.className = 'detail-label';
                                                        //             labelSpan.textContent = label;
                                                                    
                                                        //             const valueSpan = document.createElement('span');
                                                        //             valueSpan.className = 'detail-value';
                                                        //             valueSpan.textContent = value;

                                                        //             container.appendChild(labelSpan);
                                                        //             container.appendChild(valueSpan);
                                                        //             return container;
                                                        //         }

                                                        //         details.appendChild(createDetailItem('ÂØπÊâã', match.ÂØπÊâã));
                                                        //         details.appendChild(createDetailItem('ÊØîÂàÜ', match.ÊØîÂàÜ));
                                                        //         details.appendChild(createDetailItem('ËΩÆÊ¨°', match.ËΩÆÊ¨°));
                                                        //         details.appendChild(createDetailItem('ÁªìÊûú', match.ÁªìÊûú));

                                                        //         // ÁªÑÂêàÂÖÉÁ¥†
                                                        //         card.appendChild(header);
                                                        //         card.appendChild(details);
                                                        //         contentDiv.appendChild(card);
                                                        //     });
                                                        // } else {
                                                        //     const empty = document.createElement('div');
                                                        //     empty.className = 'no-matches';
                                                        //     empty.textContent = 'ÊöÇÊó†ËØ•Á∫ßÂà´ÁöÑÊØîËµõÊï∞ÊçÆ';
                                                        //     contentDiv.appendChild(empty);
                                                        // }
                                                        loadMatchDetails(category,year,matchName,property)

                                                        // Êõ¥Êñ∞Ë∑ØÂæÑ
                                                        // currentPath = [
                                                        //     'ÂΩìÂâçÈ°µ:È¶ñÈ°µ',
                                                        //     category,
                                                        //     year,
                                                        //     matchName,
                                                        //     property
                                                        // ];


                                                        // updateBreadcrumb();
                                                    });


                                                    
                                                    propContainer.appendChild(propItem);
                                                });
                                            });
                                        }

                                        const matchArrow = matchItem.querySelector('.nav-arrow');
                                        matchItem.addEventListener('click', (e) => {
                                            e.stopPropagation();
                                            const isPropActive = propContainer.classList.toggle('show');
                                            const year = key;  // ‰ªéÂ§ñÂ±Ç‰ΩúÁî®ÂüüÊçïËé∑Âπ¥‰ªΩ
    
                                            if (isPropActive) {
                                    currentPath = currentPath.slice(0, 3);
                                    currentPath[3] = matchName;
                                } else {
                                    currentPath = currentPath.slice(0, 3);
                                }
                                            
                                            // ÂÖ≥Èó≠ÂÖ∂‰ªñÂêåÁ∫ßÊØîËµõËèúÂçï
                                            Array.from(childContainer.children)
                                                .filter(el => el !== matchItem)
                                                .forEach(el => {
                                                    el.nextElementSibling?.classList.remove('show');
                                                    // el.querySelector('.nav-arrow')?.style.transform = 'none';
                                                    const arrowElement = el.querySelector('.nav-arrow');
                                                    if (arrowElement) arrowElement.style.transform = 'none';
                                                });

                                            // Êõ¥Êñ∞Ë∑ØÂæÑÂà∞ÊØîËµõÂ±ÇÁ∫ß
                                            // currentPath = currentPath.slice(0, 2);
                                            // currentPath[2] = matchName;

                                            syncMenuState(isPropActive ? 3 : 2);
                                            updateBreadcrumb();
                                            loadContentByPath();

                                            matchArrow.style.transform = isPropActive ? 'rotate(90deg)' : 'none';
                                        });

                                        childContainer.appendChild(matchItem);
                                        childContainer.appendChild(propContainer);
                                    });
                                }
                            });
                        });
                    } else {
                        createMenu(childContainer, value, level + 1);
                    }
                }
            });
        }

        function loadCareerAchievements() {
            const contentDiv = document.querySelector('.content');
            const bannerSpan = document.querySelector('.banner span');
            bannerSpan.innerHTML = '<b>ÂΩìÂâçÈ°µ:</b> <b>ÁîüÊ∂ØÊàêÂ∞±</b>';
            
            // Â•ñÁâåÊï∞ÊçÆÊî∂ÈõÜ
            const medalData = {
                'üèÜ ÂÜ†ÂÜõ': new Map(),
                'ü•à ‰∫öÂÜõ': new Map(),
                'ü•â Â≠£ÂÜõ': new Map()
            };

            // ÈÅçÂéÜÊï∞ÊçÆÁªìÊûÑ
            Object.entries(data).forEach(([category, years]) => {
                Object.entries(years).forEach(([year, matches]) => {
                    matches.forEach(match => {
                        const matchName = Object.keys(match.ÊØîËµõÂêçÁß∞)[0];
                        const matchKey = `${category}|${year}|${matchName}`;
                        
                        match.ÊØîËµõÂêçÁß∞[matchName].ÊÄßË¥®?.forEach(propertyObj => {
                            Object.entries(propertyObj).forEach(([property, records]) => {
                                records.forEach(record => {
                                    const title = record.Â§¥Ë°î?.trim();
                                    if (!title) return;
                                    
                                    const medalType = title.match(/ÂÜ†ÂÜõ/) ? 'üèÜ ÂÜ†ÂÜõ' :
                                                    title.match(/‰∫öÂÜõ/) ? 'ü•à ‰∫öÂÜõ' :
                                                    title.match(/(Â≠£ÂÜõ|ÈìúÁâå)/) ? 'ü•â Â≠£ÂÜõ' : null;
                                    
                                    if (medalType) {
                                        const uniqueKey = `${matchKey}|${property}`;
                                        if (!medalData[medalType].has(uniqueKey)) {
                                            medalData[medalType].set(uniqueKey, {
                                                category,
                                                year,
                                                matchName,
                                                property,
                                                title,
                                                date: match.Êó∂Èó¥ || 'Êú™Áü•Êó•Êúü'
                                            });
                                        }
                                    }
                                });
                            });
                        });
                    });
                });
            });

            const honorSet = new Set();
            const honorData = [];

            Object.entries(data).forEach(([category, years]) => {
                Object.entries(years).forEach(([year, matches]) => {
                    matches.forEach(match => {
                        const matchName = Object.keys(match.ÊØîËµõÂêçÁß∞)[0];
                        const matchTime = match.Êó∂Èó¥ || 'Êú™Áü•Êó∂Èó¥'; // Ê∑ªÂä†Êó∂Èó¥Â≠óÊÆµ
                        match.ÊØîËµõÂêçÁß∞[matchName].ÊÄßË¥®?.forEach(propertyObj => {
                            Object.entries(propertyObj).forEach(([property, records]) => {
                                records.forEach(record => {
                                    if (record.Â§¥Ë°î?.match(/ÂÜ†ÂÜõ|‰∫öÂÜõ|Â≠£ÂÜõ|ÈìúÁâå/)) {
                                        // ÂîØ‰∏ÄÈîÆÂåÖÂê´ÔºöÁ±ªÂà´„ÄÅÂπ¥‰ªΩ„ÄÅÊØîËµõÂêçÁß∞„ÄÅÊÄßË¥®„ÄÅËΩÆÊ¨°„ÄÅÊó∂Èó¥
                                        const uniqueKey = `${category}|${year}|${matchName}|${property}`;
                                        if (!honorSet.has(uniqueKey)) {
                                            honorSet.add(uniqueKey);
                                            honorData.push({
                                                category,
                                                year,
                                                matchName,
                                                property,
                                                title: record.Â§¥Ë°î,
                                                date: matchTime,
                                                round: record.ËΩÆÊ¨° // Ê∑ªÂä†ËΩÆÊ¨°Â≠óÊÆµ
                                            });
                                        }
                                    }
                                });
                            });
                        });
                    });
                });
            });

            // ÂàõÂª∫UI
            contentDiv.innerHTML = `
                <div class="medal-grid" style="
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
                    gap: 30px;
                    padding: 20px;
                ">
                    <div class="medal-card honor-scroll" style="
                        background: linear-gradient(145deg, #f0f8ff, #d1e0ff); 
                        min-height: 420px;
                    ">
                        <div class="medal-header" style="margin-bottom:15px">
                            <div class="medal-icon" style="font-size:2em">üèÖ  <b>Ëç£Ë™âÊó∂Âàª</b></div>
                            
                        </div>
                        <div class="honor-scroll-container">
                            ${honorData.map(entry => `
                            <div class="honor-item" 
                                 onclick="navigateToMatch('${entry.category}', '${entry.year}', 
                                          '${entry.matchName.replace(/'/g, "\\'")}', 
                                          '${entry.property}')">
                                <span class="honor-time">${entry.date}</span>
                                <span class="honor-title">
                                    ${entry.matchName} - ${entry.property.toUpperCase()}
                                </span>
                                <span class="honor-medal ${entry.title.includes('ÂÜ†ÂÜõ') ? 'gold' : 
                                    entry.title.includes('‰∫öÂÜõ') ? 'silver' : 'bronze'}">
                                    ${entry.title}
                                </span>
                            </div>
                        `).join('')}
                        </div>
                    </div>
                    ${Object.entries(medalData).map(([type, entries]) => `
                        <div class="medal-card" style="
                            background: linear-gradient(145deg, ${getCardColor(type)});
                            border-radius: 16px;
                            padding: 24px;
                            box-shadow: 0 8px 32px rgba(95,158,160,0.15);
                            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                            min-height: 400px;
                        ">
                            <div class="medal-header" style="
                                display: flex;
                                align-items: center;
                                gap: 15px;
                                margin-bottom: 20px;
                            ">
                                <div class="medal-icon" style="
                                    font-size: 2.2em;
                                    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
                                ">${type.split(' ')[0]}</div>
                                <div>
                                    <h3 style="
                                        color: #2F4F4F;
                                        margin: 0;
                                        font-size: 1.8em;
                                        text-shadow: 0 2px 4px rgba(0,0,0,0.05);
                                    ">${type}</h3>
                                    <p style="
                                        color: #5F9EA0;
                                        margin: 5px 0 0;
                                        font-size: 1.2em;
                                    ">${entries.size} Ê¨°Ëç£Ë™â</p>
                                </div>
                            </div>
                            
                            <div class="match-list" style="
                                background: rgba(255,255,255,0.9);
                                border-radius: 12px;
                                padding: 15px;
                                height: 300px;
                                overflow-y: auto;
                            ">
                                ${Array.from(entries.values()).map(entry => `
                                    <div class="match-item" 
                                         style="
                                            padding: 12px;
                                            margin: 8px 0;
                                            border-radius: 8px;
                                            background: white;
                                            box-shadow: 0 2px 8px rgba(95,158,160,0.1);
                                            transition: all 0.3s;
                                            cursor: pointer;
                                         "
                                         onclick="navigateToMatch('${entry.category}', '${entry.year}', '${entry.matchName}', '${entry.property}')">
                                        <div style="
                                            display: flex;
                                            justify-content: space-between;
                                            align-items: center;
                                        ">
                                            <div>
                                                <div style="
                                                    color: #2F4F4F;
                                                    font-weight: 500;
                                                    font-size: 1.1em;
                                                ">${entry.matchName}</div>
                                                <div style="
                                                    color: #888;
                                                    font-size: 0.9em;
                                                    margin-top: 6px;
                                                ">
                                                    <span>${entry.year}</span> ‚Ä¢ 
                                                    <span>${entry.category}</span> ‚Ä¢ 
                                                    <span>${entry.property.toUpperCase()}</span>
                                                </div>
                                            </div>
                                            <div style="
                                                background: rgba(95,158,160,0.1);
                                                padding: 4px 10px;
                                                border-radius: 20px;
                                                font-size: 0.9em;
                                                color: #5F9EA0;
                                            ">
                                                ${entry.date}
                                            </div>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>

                    `).join('')}

                </div>
            `;

            // Ê∑ªÂä†ÊÇ¨ÂÅúÊïàÊûú
            document.querySelectorAll('.medal-card').forEach(card => {
                card.addEventListener('mouseenter', () => {
                    card.style.transform = 'translateY(-5px) scale(1.02)';
                    card.style.boxShadow = '0 12px 40px rgba(95,158,160,0.2)';
                });
                card.addEventListener('mouseleave', () => {
                    card.style.transform = 'none';
                    card.style.boxShadow = '0 8px 32px rgba(95,158,160,0.15)';
                });
            });
            const honorContainer = document.querySelector('.honor-scroll-container');
            const items = honorContainer.querySelectorAll('.honor-item');
            const totalHeight = items.length * 110; // 80pxÈ´òÂ∫¶ + 30pxÈó¥Ë∑ù

            // Âä®ÊÄÅÊõ¥Êñ∞Âä®ÁîªÁªàÁÇπ
            const style = document.createElement('style');
            style.textContent = `
                @keyframes scroll {
                    0% { transform: translateY(0); }
                    100% { transform: translateY(-${totalHeight}px); }
                }
            `;
            document.head.appendChild(style);
        }

        function getCardColor(type) {
            const colors = {
                'üèÜ ÂÜ†ÂÜõ': ['#fff3e0', '#ffe0b2'],
                'ü•à ‰∫öÂÜõ': ['#e8f5e9', '#c8e6c9'],
                'ü•â Â≠£ÂÜõ': ['#fbe9e7', '#ffccbc']
            };
            return colors[type].join(', ');
        }

        function loadTechnicalAnalysis() {
            const contentDiv = document.querySelector('.content');
            const bannerSpan = document.querySelector('.banner span');
            bannerSpan.innerHTML = '<b>ÂΩìÂâçÈ°µ:</b> <b>ÊäÄÊúØÂàÜÊûê</b>';
            contentDiv.innerHTML = `
                <div class="analysis-container">
                    <div class="radar-container">
                        <canvas class="radar-chart" id="radarChart"></canvas>
                    </div>
                    <div class="analysis-text">
                        ${getAnalysisText()}
                    </div>
                </div>
            `;
            drawRadarChart();
        }
        
        function getAnalysisText() {
            return `
                <div class="section-title">1. ÊäÄÊúØ‰ΩìÁ≥ªÔºöÊ≠£ÂèçÊâãÊö¥Âäõ‚ÄúÈÄüÂ∫¶ÊµÅ‚Äù‚Äã</div>
                <div class="highlight">ÂèçÊâã‰ΩìÁ≥ª</div>
                <p>ÂºπÂáªÂºèÂø´Êã®‚Äã‚ÄãÔºöÂèçÊâãËøëÂè∞ÂºπÂáª‰ª•ÈÄüÂ∫¶ÂéãÂà∂‰∏∫‰∏ªÔºåÂäõÈáèÂ§ß‰ΩÜÊóãËΩ¨ËæÉÂº±Ôºå‰æùËµñËêΩÁÇπÂèòÂåñ„ÄÇ</p>
                <p>ÂèçÊâãÂø´Êíï‚Äã‚ÄãÔºöÁõ∏ÊåÅ‰∏≠ÂèçÊâãËøûÁª≠Âø´ÊíïÁ∫øË∑ØÈïøÔºåÂ∏∏ÂéãÂØπÊâãÂ∫ïÁ∫øÔºå‰ΩÜÂºßÁ∫øÊéßÂà∂Áï•Á≤óÁ≥ô„ÄÇ</p>
                
        
                <div class="highlight">Ê≠£ÊâãÊäÄÊúØ</div>
                <p>ËøëÂè∞Âø´Êîª‚Äã‚ÄãÔºöÊ≠£ÊâãÂø´Â∏¶„ÄÅÂø´ÊíïÈÄüÂ∫¶ÊûÅÂø´ÔºåÂáªÁêÉÁÇπÊó©Ôºå‰æùÈù†ÁàÜÂèëÂäõÂéãÂà∂ÂØπÊâã„ÄÇ</p>
                <p>‰æßË∫´Êö¥ÂÜ≤‚Äã‚ÄãÔºö‰æßË∫´Ê≠£ÊâãÂèëÂäõÂÖÖÂàÜÔºåÂºßÁ∫ø‰ΩéÂπ≥ÔºåÊùÄ‰º§ÂäõÂº∫‰∫éÊûóÊòÄÂÑíÔºå‰ΩÜÁ®≥ÂÆöÊÄßÁ®çÂ∑Æ„ÄÇ</p>
                
        
                <div class="section-title">2. ÊàòÊúØÂÄæÂêëÔºö‰ª•ÈÄüÂ∫¶ÂíåÊ≠£ÊâãÁ™ÅÁ†¥‰∏∫Ê†∏ÂøÉ‚Äã</div>
                <p>ÂèëÊä¢ÊàòÊúØ‚Äã‚ÄãÔºöÂèëÁêÉ‰ª•ÈÄÜÊóãËΩ¨Áü≠ÁêÉÈÖçÂêàÊÄ•ÈïøÁêÉÔºåÊé•ÂèëÁêÉÁõ¥Êé•ÊãßÊãâÊàñÂø´ÂäàÈïøÔºåÂº∫Ë°åËøõÂÖ•‰∏äÊóãÂØπÊäó„ÄÇ</p>
                <p>‚Äã‚ÄãÁõ∏ÊåÅÁ≠ñÁï•‚Äã‚ÄãÔºöËøëÂè∞Âø´ÈÄüÂéãÂà∂ÂØπÊâãÂèçÊâãÔºå‰º∫Êú∫‰æßË∫´Ê≠£ÊâãÁàÜÂÜ≤Áõ¥Á∫øÊàñÊñúÁ∫øÔºåËøΩÊ±Ç‚Äú‰∏ÄÂáªÂøÖÊùÄ‚Äù„ÄÇ</p>
                <p>Âº±ÁÇπÔºöÂèçÊâã‰ΩçÈò≤ÂÆàÁ®≥ÂÆöÊÄß‰∏çË∂≥ÔºåÂØπÊâãÂä†ËΩ¨ÂºßÂúàÊó∂ÊòìÂ§±ËØØÔºõ‰∏≠ËøúÂè∞ÂØπÊãâÊó∂Ê≠•‰ºêË∞ÉÊï¥ËæÉÊÖ¢„ÄÇ</p>
        
                <div class="section-title">3. ÂøÉÁêÜÁ¥†Ë¥®‰∏éÊØîËµõÈ£éÊ†º</div>
                <p>‚Äã‚ÄãÊøÄÊÉÖÂûãÈÄâÊâã‚Äã‚ÄãÔºö‰æùÈù†È´òÂ£∞ÂëêÂñäÊèêÂçáÊ∞îÂäøÔºå‰ΩÜÊÉÖÁª™Ê≥¢Âä®ÂèØËÉΩÂΩ±ÂìçÈÄÜÈ£éÂ±ÄÁ®≥ÂÆöÊÄßÔºàÂ¶Ç2023Âπ¥Âæ∑Áè≠‰∏ñ‰πíËµõÂØπÊ¢ÅÈùñÂ¥ëÁöÑÂÜ≥ËÉúÂ±ÄÂ¥©ÁõòÔºâ„ÄÇ</p>
                <p>ÊêèÊùÄÂÄæÂêë‚Äã‚ÄãÔºöÂÖ≥ÈîÆÂàÜÊï¢‰∫é‰ΩøÁî®È´òÈ£éÈô©ÊäÄÊúØÔºàÂ¶ÇÊ≠£ÊâãÂÖ®Âè∞Êä¢ÂÜ≤ÔºâÔºå‰ΩÜÂ§±ËØØÁéáËæÉÈ´ò„ÄÇ</p>
            `;
        }
        
        function drawRadarChart() {
            const canvas = document.getElementById('radarChart');
            const ctx = canvas.getContext('2d');
            const size = 300;
            const center = size/2;
            const radius = size * 0.4;
            const dimensions = {
                'ÂäõÈáè': 9.0,
                'ÈÄüÂ∫¶': 9.5,
                'ÊäÄÊúØ': 8.0,
                'ÂèëÁêÉ': 7.5,
                'Èò≤ÂÆà': 6.5,
                'ÁªèÈ™å': 8.5
            };
            
            canvas.width = size;
            canvas.height = size;
        
            // ÁªòÂà∂ÁΩëÊ†º
            ctx.strokeStyle = '#5F9EA055';
            ctx.setLineDash([5, 3]);
            for(let i = 1; i <= 5; i++) {
                ctx.beginPath();
                for(let j = 0; j < 6; j++) {
                    const angle = (Math.PI * 2 * j / 6) - Math.PI/2;
                    const x = center + Math.cos(angle) * radius * i/5;
                    const y = center + Math.sin(angle) * radius * i/5;
                    ctx.lineTo(x, y);
                }
                ctx.closePath();
                ctx.stroke();
            }
        
            // ÁªòÂà∂Êï∞ÊçÆÂ§öËæπÂΩ¢
            ctx.beginPath();
            ctx.setLineDash([]);
            ctx.strokeStyle = '#5F9EA0';
            ctx.fillStyle = '#5F9EA033';
            ctx.lineWidth = 2;
            
            Object.keys(dimensions).forEach((key, i) => {
                const value = dimensions[key];
                const angle = (Math.PI * 2 * i / 6) - Math.PI/2;
                const r = radius * (value/10);
                const x = center + Math.cos(angle) * r;
                const y = center + Math.sin(angle) * r;
                
                if(i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
                
                // ÁªòÂà∂ÂùêÊ†áËΩ¥
                ctx.beginPath();
                ctx.moveTo(center, center);
                ctx.lineTo(center + Math.cos(angle)*radius, center + Math.sin(angle)*radius);
                ctx.strokeStyle = '#5F9EA0';
                ctx.stroke();
                
                // ÁªòÂà∂Ê†áÁ≠æ
                ctx.fillStyle = '#2F4F4F';
                ctx.font = '12px Arial';
                const labelX = center + Math.cos(angle) * (radius + 20);
                const labelY = center + Math.sin(angle) * (radius + 20);
                ctx.textAlign = 'center';
                ctx.fillText(key, labelX, labelY);
            });
            
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
        
            // ÁªòÂà∂Êï∞ÊçÆÁÇπ
            ctx.fillStyle = '#5F9EA0';
            Object.keys(dimensions).forEach((key, i) => {
                const value = dimensions[key];
                const angle = (Math.PI * 2 * i / 6) - Math.PI/2;
                const r = radius * (value/10);
                const x = center + Math.cos(angle) * r;
                const y = center + Math.sin(angle) * r;
                ctx.beginPath();
                ctx.arc(x, y, 4, 0, Math.PI*2);
                ctx.fill();
            });
            ctx.beginPath();
            ctx.strokeStyle = '#5F9EA0';
            ctx.lineWidth = 2;
            Object.keys(dimensions).forEach((key, i) => {
                const value = dimensions[key];
                const angle = (Math.PI * 2 * i / 6) - Math.PI/2;
                const r = radius * (value/10);
                const x = center + Math.cos(angle) * r;
                const y = center + Math.sin(angle) * r;
                
                if(i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            });
            ctx.closePath();
            ctx.stroke();
        }

        function loadPlayerProfile() {
            const contentDiv = document.querySelector('.content');
            const bannerSpan = document.querySelector('.banner span');
            bannerSpan.innerHTML = '<b>ÂΩìÂâçÈ°µ:</b> <b>ÂÖ≥‰∫éÈÄâÊâã</b>';
            
            contentDiv.innerHTML = `
                <div class="player-profile">
                    <!-- Âü∫Êú¨ËµÑÊñôÂç°Áâá -->
                    <div class="profile-card basic-info">
                        <div class="card-header">
                            <h2>Âº†Êú¨Êô∫Âíå (Harimoto Tomokazu)</h2>
                            <div class="national-flag">üáØüáµ Êó•Êú¨</div>
                        </div>
                        <div class="info-grid">
                            ${generateBasicInfoItems()}
                        </div>
                    </div>
        
                    <!-- ÊàêÈïøÂéÜÁ®ã -->
                    <div class="profile-card timeline">
                        <h3 onclick="loadCareerAchievements()">üìà ËÅå‰∏öÁîüÊ∂ØÈáåÁ®ãÁ¢ë</h3>
                        <div class="timeline-container">
                            ${generateCareerTimeline()}
                        </div>
                    </div>
        
                    <!-- ÊäÄÊúØÁâπÂæÅ -->
                    <div class="profile-card tech-stats">
                        <h3 onclick="loadTechnicalAnalysis()">üéØ ÊäÄÊúØÁâπÂæÅ</h3>
                        <div class="tech-grid">
                            ${generateTechFeatures()}
                        </div>
                    </div>
                    
                </div>
            `;
        }
        
        function generateBasicInfoItems() {
            const infoData = [
                { icon: 'üéÇ', label: 'Âá∫ÁîüÊó•Êúü', value: '2003Âπ¥6Êúà27Êó•' },
                { icon: 'üìç', label: 'Âá∫ÁîüÂú∞', value: 'Êó•Êú¨ÂÆ´ÂüéÂéø' },
                { icon: 'üìè', label: 'Ë∫´È´ò', value: '178cm' },
                { icon: 'ü§ö', label: 'ÊåÅÊãçÊñπÂºè', value: 'Âè≥ÊâãÊ®™Êãç‰∏§Èù¢ÂèçËÉ∂' },
                { icon: 'üë®üë©üë¶', label: 'ÂÆ∂Â∫≠ËÉåÊôØ', value: 'Áà∂‰∫≤Âº†ÂÆá/ÊØç‰∫≤Âº†ÂáåÔºàÂéüÂõõÂ∑ùÁúÅÈòüÈÄâÊâãÔºâ' },
                { icon: 'üìú', label: 'ÂÖ•Á±çÊó∂Èó¥', value: '2014Âπ¥Âä†ÂÖ•Êó•Êú¨Á±ç' }
            ];
        
            return infoData.map(item => `
                <div class="info-item">
                    <span class="icon">${item.icon}</span>
                    <div class="info-content">
                        <div class="label">${item.label}</div>
                        <div class="value">${item.value}</div>
                    </div>
                </div>
            `).join('');
        }
        
        function generateCareerTimeline() {
            const timelineData = [
                { year: '2005', event: '2Â≤ÅÂºÄÂßãÊåÅÊãçËÆ≠ÁªÉ', icon: 'üèì' },
                { year: '2013', event: '10Â≤ÅÊàê‰∏∫‰∏ñÈùíËµõÊúÄÂπ¥ËΩªÂ•ñÁâåÂæó‰∏ª', icon: 'ü•â' },
                { year: '2016', event: '13Â≤ÅÂà∑Êñ∞ÊúÄÂπ¥ËΩª‰∏ñ‰πíËµõÂèÇËµõÁ∫™ÂΩï', icon: 'üåç' },
                { year: '2018', event: '15Â≤ÅÂáªË¥•È©¨Èæô„ÄÅÂº†ÁªßÁßëÂ§∫ÊÄªÂÜ≥ËµõÂÜ†ÂÜõ', icon: 'üèÜ' },
                { year: '2021', event: '‰∏ú‰∫¨Â••Ëøê‰ºöÁî∑Âõ¢ÈìúÁâå', icon: 'üáØüáµ' },
                { year: '2022', event: 'ÊàêÈÉΩ‰∏ñ‰πíËµõÂáªË¥•Ê®äÊåØ‰∏ú„ÄÅÁéãÊ•öÈí¶', icon: 'üî•' }
            ];
        
            return timelineData.map(item => `
                <div class="timeline-item">
                    <div class="timeline-marker">${item.icon}</div>
                    <div class="timeline-content">
                        <div class="timeline-year">${item.year}</div>
                        <div class="timeline-event">${item.event}</div>
                    </div>
                </div>
            `).join('');
        }
        
        function generateTechFeatures() {
            return `
                <div class="tech-item">
                    <div class="tech-icon">üí•</div>
                    <div class="tech-content">
                        <h4>Êö¥ÂäõËøëÂè∞</h4>
                        <p>ËøëÂè∞Âø´ÊîªÈÄüÂ∫¶Ëææ4.5Ê¨°/ÁßíÔºåÊ≠£ÊâãÁàÜÂÜ≤ÁêÉÈÄüË∂Ö120km/h</p>
                    </div>
                </div>
                <div class="tech-item">
                    <div class="tech-icon">üé≠</div>
                    <div class="tech-content">
                        <h4>ÂøÉÁêÜÁâπË¥®</h4>
                        <p>Ê†áÂøóÊÄßËµõÂú∫ÊÄíÂêºÔºåÂÖ≥ÈîÆÂàÜÂ§ÑÁêÜÊàêÂäüÁéá68%ÔºàÂèåÂàÉÂâëÊïàÂ∫îÔºâ</p>
                    </div>
                </div>
                <div class="tech-item">
                    <div class="tech-icon">üîÑ</div>
                    <div class="tech-content">
                        <h4>ÊäÄÊúØ‰ΩìÁ≥ª</h4>
                        <p>ÂèçÊâãÊãßÊãâ+Ê≠£ÊâãÂø´Â∏¶ÁªÑÂêà‰ΩøÁî®Áéá82%ÔºåÂè∞ÂÜÖÊéßÂà∂ÂæóÂàÜÁéá71%</p>
                    </div>
                </div>
            `;
        }
        
        function navigateToMatch(category, year, matchName, property) {
            currentPath = [
                'ÂΩìÂâçÈ°µ:È¶ñÈ°µ',
                category,
                year,
                matchName,
                property
            ];
            updateHistory(currentPath);
            syncMenuState(4);
            updateBreadcrumb();
            loadContentByPath();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function updateBreadcrumb() {
            const bannerSpan = document.querySelector('.banner span');
            if (currentSearchKeyword) {
                bannerSpan.innerHTML = `
                    <b>ÂΩìÂâçÈ°µ:</b> 
                    <b><a href="javascript:void(0)" onclick="clearSearch()">ÊêúÁ¥¢Ôºö${currentSearchKeyword}</a></b>
                `;
                return;
            }
            // Â§ÑÁêÜË∑ØÂæÑÔºö‰øùÁïôÊâÄÊúâÂÖÉÁ¥†Ôºå‰ªÖÊõøÊç¢ÂâçÁºÄ
            const validPath = currentPath.map(p => p.replace('ÂΩìÂâçÈ°µ:', ''));
        
            // ÁîüÊàêÈù¢ÂåÖÂ±ëÂØºËà™
            const breadcrumbHtml = validPath.map((item, index) => {
                const displayText = item || 'È¶ñÈ°µ'; // Á©∫ÂÄºÂ§ÑÁêÜ
                return `<b><a href="javascript:void(0)"
                          onclick="handleBreadcrumbClick(${index})"
                          style="${index === 0 ? 'font-weight:bold' : ''}">
                          ${displayText}
                        </a></b>`;
            }).join('<b> > </b>');
        
            bannerSpan.innerHTML = `<b>ÂΩìÂâçÈ°µ:</b> ${breadcrumbHtml}`; // Âõ∫ÂÆöÂâçÁºÄ
        }
        
        function clearSearch() {
            currentSearchKeyword = null;
            document.querySelector('.search-input').value = '';
            currentPath = ['ÂΩìÂâçÈ°µ:È¶ñÈ°µ']; // Âº∫Âà∂ÈáçÁΩÆË∑ØÂæÑ
            updateHistory(currentPath);
            syncMenuState(0);
            loadHomeContent();
            updateBreadcrumb();
        }

        function handleBreadcrumbClick(clickIndex) {
            // ËÆ°ÁÆóÈúÄË¶Å‰øùÁïôÁöÑÂ±ÇÁ∫ßÔºà+1Â§ÑÁêÜÈ¶ñÈ°µÂÅèÁßªÔºâ
            const targetLevel = clickIndex;
            currentPath = currentPath.slice(0, targetLevel + 1);
            updateHistory(currentPath);
            // ÂêåÊ≠•Â∑¶‰æßËèúÂçïÁä∂ÊÄÅ
            syncMenuState(targetLevel);
            updateBreadcrumb();
            loadContentByPath();
        }

        function syncMenuState(targetLevel) {
            currentSearchKeyword = null;
            const menuContainer = document.getElementById('navTreeContainer');

            // ÈÄíÂΩíÂÖ≥Èó≠ÊâÄÊúâË∂ÖËøáÂΩìÂâçÂ±ÇÁ∫ßÁöÑËèúÂçï
            const closeExcessLevels = (container, currentLevel) => {
                Array.from(container.children).forEach(el => {
                    if(el.classList.contains('nav-item')) {
                        const childContainer = el.nextElementSibling;
                        if(childContainer?.classList.contains('nav-child')) {
                            if(currentLevel >= targetLevel) {
                                childContainer.classList.remove('show');
                                el.querySelector('.nav-arrow').style.transform = 'none';
                            }
                            closeExcessLevels(childContainer, currentLevel + 1);
                        }
                    }
                });
            };
            closeExcessLevels(menuContainer, 0);

            // ÈÄíÂΩíÂ±ïÂºÄÈúÄË¶ÅÊòæÁ§∫ÁöÑÂ±ÇÁ∫ß
            const openTargetLevels = (container, currentLevel) => {
                if (!container) return; // Êñ∞Â¢ûÁ©∫ÂÄºÊ£ÄÊü•
                
                Array.from(container.children).forEach(el => {
                    if(el.classList.contains('nav-item')) {
                        const childContainer = el.nextElementSibling;
                        
                        // Êñ∞Â¢ûÈò≤Âæ°ÊÄßÁºñÁ®ã
                        if (!childContainer || !childContainer.classList) {
                            // console.warn('Êó†ÊïàÁöÑÂ≠êÂÆπÂô®:', el.textContent);
                            return;
                        }
        
                        const itemText = el.textContent.replace('‚ñ∂','').trim();
                        
                        if (currentLevel < targetLevel && 
                           currentPath[currentLevel + 1] === itemText) {
                            childContainer.classList.add('show');
                            const arrow = el.querySelector('.nav-arrow');
                            if (arrow) arrow.style.transform = 'rotate(90deg)';
                            openTargetLevels(childContainer, currentLevel + 1);
                        }
                    }
                });
            };
            openTargetLevels(menuContainer, 0);
        }

        function updateHistory(newPath) {
            // ÁßªÈô§ÂΩìÂâçÁ¥¢Âºï‰πãÂêéÁöÑÂéÜÂè≤
            historyStack = historyStack.slice(0, currentIndex + 1);
            
            // ÈôêÂà∂ÂéÜÂè≤ËÆ∞ÂΩïÈïøÂ∫¶
            if (historyStack.length >= MAX_HISTORY) {
                historyStack.shift();
                currentIndex--;
            }
            
            // Ê∑ªÂä†Êñ∞ËÆ∞ÂΩïÂπ∂Êõ¥Êñ∞Á¥¢Âºï
            historyStack.push(JSON.parse(JSON.stringify(newPath)));
            currentIndex = historyStack.length - 1;
            
            updateNavButtons();
        }
        
        function updateNavButtons() {
            const [backBtn, forwardBtn] = document.querySelectorAll('.nav-button');
            
            backBtn.disabled = currentIndex <= 0;
            forwardBtn.disabled = currentIndex >= historyStack.length - 1;
            
            // Ê∑ªÂä†Ê†∑ÂºèÂèòÂåñ
            backBtn.style.opacity = backBtn.disabled ? 0.5 : 1;
            forwardBtn.style.opacity = forwardBtn.disabled ? 0.5 : 1;
            backBtn.style.cursor = backBtn.disabled ? 'not-allowed' : 'pointer';
            forwardBtn.style.cursor = forwardBtn.disabled ? 'not-allowed' : 'pointer';
        }
        
        function goBack() {
            if (currentIndex > 0) {
                currentIndex--;
                applyHistoryState();
            }
        }
        
        function goForward() {
            if (currentIndex < historyStack.length - 1) {
                currentIndex++;
                applyHistoryState();
            }
        }
        
        function applyHistoryState() {
            const state = historyStack[currentIndex];
            currentPath = JSON.parse(JSON.stringify(state));
            
            // ÂêåÊ≠•ËèúÂçïÁä∂ÊÄÅ
            const pathDepth = currentPath.length - 1; // ÂáèÂéª"ÂΩìÂâçÈ°µ:"ÂâçÁºÄ
            syncMenuState(pathDepth);
            
            // Âä†ËΩΩÂÜÖÂÆπ
            loadContentByPath();
            
            // Êõ¥Êñ∞Èù¢ÂåÖÂ±ë
            updateBreadcrumb();
            
            // Êõ¥Êñ∞ÊåâÈíÆÁä∂ÊÄÅ
            updateNavButtons();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }


        function loadContentByPath() {
            const contentDiv = document.querySelector('.content');
            const validPath = currentPath.map(p => p.replace('ÂΩìÂâçÈ°µ:', '')); // Áõ¥Êé•Â§ÑÁêÜÂâçÁºÄ
            const actualDepth = validPath.length;
        
            contentDiv.innerHTML = '';
            switch (actualDepth) {
                case 1: loadHomeContent(); break;
                case 2: loadCategoryContent(validPath[1]); break;
                case 3: loadYearContent(validPath[1], validPath[2]); break;
                case 4: loadMatchContent(validPath[1], validPath[2], validPath[3]); break;
                case 5: loadMatchDetails(validPath[1], validPath[2], validPath[3], validPath[4]); break;
                default: loadHomeContent();
            }
            window.scrollTo({ top: 0, behavior: 'auto' });
            updateNavButtons(); 
        }

        function loadHomeContent() {
            const contentDiv = document.querySelector('.content');
            contentDiv.innerHTML = `
                <h1>Ê¨¢Ëøé‰ΩøÁî®Â®ú‰∏™Áî∑‰∫∫Á≥ªÁªüv1</h1>
                <p><b>‚ë† ÂèØÂú®Â∑¶‰æßÁöÑÂäüËÉΩÊ†èÈáåÊü•ÁúãËµõ‰∫ãËÆ∞ÂΩï</b></p>
                <p><b>‚ë° ‰ªª‰ΩïbugÂèØÂú®ÂæÆÂçö‰∏≠ËÅîÁ≥ªÊàëÊàñÂú®‰∏ãÊñπÁïôË®Ä</b></p>
                <div class="message-board">
                    <textarea id="messageInput" placeholder="Áïô‰∏ã‰Ω†ÁöÑÂª∫ËÆÆÊàñÁ•ùÁ¶è..."></textarea>
                    <button id="submitBtn" onclick="submitMessage()">ÂèëÈÄÅÁïôË®Ä ‚úàÔ∏è</button>
                </div>
            `;
            // ÈáçÊñ∞ÁªëÂÆöÁïôË®ÄÊùø‰∫ã‰ª∂
            contentDiv.addEventListener('click', (e) => {
                if (e.target && e.target.id === 'submitBtn') {
                    submitMessage();
                }
            });
        
            const messageInput = document.getElementById('messageInput');
            if (messageInput) {
                messageInput.onkeydown = function(e) {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        submitMessage();
                    }
                };
            }
            // document.getElementById('submitBtn').onclick = submitMessage;
            // contentDiv.addEventListener('click', (e) => {
            //     if (e.target && e.target.id === 'submitBtn') {
            //         submitMessage();
            //     }
            // });
            // document.getElementById('messageInput').onkeydown = function(e) {
            //     if (e.key === 'Enter' && !e.shiftKey) {
            //         e.preventDefault();
            //         submitMessage();
            //     }
            // };
            currentSearchKeyword = null;
        }

        function loadCategoryContent(category) {
            const years = Object.keys(data[category]);
            const contentDiv = document.querySelector('.content');

            contentDiv.innerHTML = `
                <h2 style="color: #2F4F4F; margin-bottom: 20px;">${category}</h2>
                <div class="year-list" style="padding: 20px;">
                    ${years.map(year => {
                        const matchCount = data[category][year].length; // Ëé∑ÂèñËØ•Âπ¥‰ªΩÊØîËµõÊï∞Èáè
                        return `
                            <div class="nav-item level-1"
                                 style="margin: 10px; padding: 15px;
                                        background: rgba(95,158,160,0.1);
                                        border-radius: 8px;
                                        cursor: pointer;"
                                 onclick="handlePathNavigation('${category}', '${year}')">
                                ${year}
                                <span style="font-size:14px;color:#5F9EA0;margin-left:10px;">
                                    ÂÖ±ÂåÖÂê´ ${matchCount} ‰∏™Ëµõ‰∫ã
                                </span>
                            </div>
                        `}).join('')}
                </div>
            `;
        }

        function loadYearContent(category, year) {
            const matches = data[category][year];
            const contentDiv = document.querySelector('.content');

            contentDiv.innerHTML = `
                <h2 style="color: #2F4F4F; margin-bottom: 20px;">${category} - ${year}</h2>
                <div class="match-list" style="padding: 20px;">
                    ${matches.map(match => {
                        const matchName = Object.keys(match.ÊØîËµõÂêçÁß∞)[0];
                        const propertyCount = Object.keys(match.ÊØîËµõÂêçÁß∞[matchName].ÊÄßË¥®).length; // Ëé∑ÂèñÊÄßË¥®Êï∞Èáè
                        return `
                            <div class="nav-item level-2"
                                 style="margin: 10px; padding: 15px;
                                        background: rgba(95,158,160,0.1);
                                        border-radius: 8px;
                                        cursor: pointer;"
                                 onclick="handlePathNavigation('${category}', '${year}', '${matchName}')">
                                ${matchName}
                                <span style="font-size:14px;color:#5F9EA0;margin-left:10px;">
                                    ÂÖ±ÂåÖÂê´ ${propertyCount} ‰∏™È°πÁõÆ
                                </span>
                            </div>
                        `;
                    }).join('')}
                </div>
            `;
        }

        function loadMatchContent(category, year, matchName) {
            const contentDiv = document.querySelector('.content');
            contentDiv.innerHTML = '';

            // Ëé∑ÂèñÊØîËµõÊï∞ÊçÆ
            const matchData = data[category][year].find(
                item => item.ÊØîËµõÂêçÁß∞?.[matchName]
            )?.ÊØîËµõÂêçÁß∞[matchName].ÊÄßË¥®;



            // ÂàõÂª∫Ê†áÈ¢ò
            const title = document.createElement('h2');
            title.style.cssText = 'color: #2F4F4F; margin-bottom: 20px;';
            title.innerHTML = `
                 ${matchName}
            `;
            contentDiv.appendChild(title);

            if (!matchData || matchData.length === 0) {
                contentDiv.innerHTML += '<div class="no-matches">ÊöÇÊó†Ëµõ‰∫ãÊï∞ÊçÆ</div>';
                return;
            }

            

            // ÂàõÂª∫ÂÆπÂô®
            const container = document.createElement('div');
            container.className = 'match-list';
            container.style.padding = '20px';

            matchData.forEach(property => {
                Object.entries(property).forEach(([propName, matches]) => {
                    // ÁªüËÆ°ËÉúË¥ü
                    const winCount = matches.filter(m => m.ÁªìÊûú === 'ËÉú').length;
                    const loseCount = matches.length - winCount;

                    // ÂàõÂª∫È°πÁõÆÂç°Áâá
                    const card = document.createElement('div');
                    card.className = 'nav-item level-4';
                    card.style.cssText = `
                        margin: 10px;
                        padding: 15px;
                        background: rgba(95,158,160,0.1);
                        border-radius: 8px;
                        cursor: pointer;
                        display: flex;
                        justify-content: space-between;
                        align-items: center;
                    `;
                    card.addEventListener('click', () => {
                        loadMatchDetails(category, year, matchName, propName);
                    });

                    // Â∑¶‰æß‰ø°ÊÅØ
                    const leftSection = document.createElement('div');
                    leftSection.innerHTML = `
                        <span>
                            ${propName.toUpperCase()}-${winCount}ËÉú${loseCount}Ë¥ü
                        </span>
                    `;

                    // Âè≥‰æßÁªüËÆ°
                    // const rightSection = document.createElement('div');
                    // rightSection.innerHTML = `
                    //     <span style="font-size:14px;color:#5F9EA0">
                    //         ${winCount}ËÉú${loseCount}Ë¥ü
                    //     </span>
                    // `;

                    // ÁÇπÂáªÊü•ÁúãËØ¶ÊÉÖ
                    card.addEventListener('click', () => {
                        currentPath = [
                            'ÂΩìÂâçÈ°µ:È¶ñÈ°µ',  // Â±ÇÁ∫ß0
                            category,       // Â±ÇÁ∫ß1
                            year,           // Â±ÇÁ∫ß2
                            matchName,      // Â±ÇÁ∫ß3
                            propName        // Â±ÇÁ∫ß4ÔºàÊñ∞Â¢ûÁ¨¨‰∫îÂ±ÇÔºâ
                        ];
                        syncMenuState(4);
                        updateBreadcrumb();
                        loadContentByPath();

                    });

                    card.appendChild(leftSection);
                    // card.appendChild(rightSection);
                    container.appendChild(card);
                });
            });

            contentDiv.appendChild(container);
        }

        function loadMatchDetails(category, year, matchName, property) {
            const contentDiv = document.querySelector('.content');
            contentDiv.innerHTML = '';

            // ‰ªéÊï∞ÊçÆ‰∏≠Ëé∑ÂèñÊØîËµõËØ¶ÊÉÖ
            const matches = data[category][year]
                .find(item => item.ÊØîËµõÂêçÁß∞[matchName])
                ?.ÊØîËµõÂêçÁß∞[matchName].ÊÄßË¥®
                .find(p => p[property])?.[property];

            // ÂàõÂª∫Ê†áÈ¢ò
            const title = document.createElement('h2');
            title.style.color = '#2F4F4F';
            title.style.marginBottom = '30px';
            title.innerHTML = `
                 ${matchName} - ${property.toUpperCase()}
            `;
            contentDiv.appendChild(title);
            const timeContainer = document.createElement('div');
            timeContainer.className = 'time'
            const infoSet = {
                Êê≠Ê°£: new Set(),
                Â§¥Ë°î: new Set(),
                Âõ¢‰Ωì: new Set()
            };
            const iconMap = {
                'Â§¥Ë°î': 'üéñÔ∏è',  // Â•ñÁ´†ÂõæÊ†á
                'Êê≠Ê°£': 'ü§ù'  // Êè°ÊâãÂõæÊ†á
            };

            const isSpecialLeague = ['TËÅîËµõ','Ê¨ßÊ¥≤‰πí‰πìÁêÉÂÜ†ÂÜõËÅîËµõ','T2‰∫öÂ§™‰πí‰πìÁêÉËÅîËµõ'].includes(category);

            matches?.forEach(match => {
                if(match.Êê≠Ê°£) infoSet.Êê≠Ê°£.add(match.Êê≠Ê°£);
                if(match.Â§¥Ë°î && !isSpecialLeague) infoSet.Â§¥Ë°î.add(match.Â§¥Ë°î);
                // if(match.Âõ¢‰Ωì) infoSet.Âõ¢‰Ωì.add(match.Âõ¢‰Ωì);
            });
            const infoElements = [];



            // Ëé∑ÂèñÊØîËµõÊó∂Èó¥ÔºàÁ§∫‰æãÊï∞ÊçÆ‰∏≠Êó∂Èó¥Â≠óÊÆµÂú®ÊØîËµõÂØπË±°Â§ñÂ±ÇÔºâ
            const matchData = data[category][year].find(
                item => item.ÊØîËµõÂêçÁß∞?.[matchName]
            );
            
            if(matchData?.Êó∂Èó¥) {
                infoElements.push(`
                    <span class="time-item">
                        <span class="icon">üìÖ</span>
                        ${matchData.Êó∂Èó¥}
                    </span>
                `);
            }

            // Ê∑ªÂä†ÂÖ∂‰ªñ‰ø°ÊÅØ
            Object.entries(infoSet).forEach(([key, set]) => {
                if(isSpecialLeague && key === 'Â§¥Ë°î') return;
                if(set.size > 0) {
                    infoElements.push(`
                        <span class="info-item">
                            <span class="label">${iconMap[key]}</span>
                            <span class="value">${Array.from(set).join('„ÄÅ')}</span>
                        </span>
                    `);
                }
            });

            timeContainer.innerHTML = infoElements.join('');
            contentDiv.appendChild(timeContainer);


    

            if (matches && matches.length > 0) {
                matches.forEach(match => {
                    // ÂàõÂª∫ÊØîËµõÂç°Áâá
                    const card = document.createElement('div');
                    card.className = 'match-card';

                    // Âç°ÁâáÂ§¥ÈÉ®ÔºàËΩÆÊ¨° + ÁªìÊûúÔºâ
                    const header = document.createElement('div');
                    header.className = 'match-header';
                    
                    // if(match.Â§¥Ë°î) {
                    //     const titleBadge = document.createElement('span');
                    //     titleBadge.className = 'match-result';
                    //     titleBadge.textContent = match.Â§¥Ë°î;
                    //     titleBadge.style.backgroundColor = '#8FBC8F'; // ÊµÖÁªøËâ≤
                    //     header.appendChild(titleBadge);
                    // }

                    const round = document.createElement('span');
                    round.className = 'match-round';
                    round.textContent = match.ËΩÆÊ¨°;
                    
                    const result = document.createElement('span');
                    result.className = 'match-result';
                    if (isSpecialLeague) {
                        // ÊòæÁ§∫Â§¥Ë°îÂíåÊó•Êúü
                        round.textContent = match.Â§¥Ë°î || 'Êó†Â§¥Ë°î‰ø°ÊÅØ';
                        result.textContent = match.Êó•Êúü || 'Êó†Êó•Êúü‰ø°ÊÅØ';
                        result.style.backgroundColor = match.ÁªìÊûú === 'ËÉú' ? '#5F9EA0' : '#CD5C5C'; // Áªü‰∏ÄÈ¢úËâ≤
                        result.style.color = 'white';
                    } else {
                        // ÈªòËÆ§ÊòæÁ§∫ËΩÆÊ¨°ÂíåÁªìÊûú
                        round.textContent = match.ËΩÆÊ¨°;
                        result.textContent = match.ÁªìÊûú;
                        result.style.backgroundColor = match.ÁªìÊûú === 'ËÉú' ? '#5F9EA0' : '#CD5C5C';
                    }
                    // result.textContent = match.ÁªìÊûú;
                    // result.style.backgroundColor = match.ÁªìÊûú === 'ËÉú' ? '#5F9EA0' : '#CD5C5C';

                    header.appendChild(round);
                    header.appendChild(result);

                    // ÊØîËµõËØ¶ÊÉÖ
                    const details = document.createElement('div');
                    details.className = 'match-details';

                    const createDetailItem = (label, value) => {
                        const container = document.createElement('div');
                        container.className = 'detail-item';
                        
                        const labelSpan = document.createElement('span');
                        labelSpan.className = 'detail-label';
                        labelSpan.textContent = label;
                        
                        const valueSpan = document.createElement('span');
                        valueSpan.className = 'detail-value';
                        valueSpan.textContent = value;

                        container.appendChild(labelSpan);
                        container.appendChild(valueSpan);
                        return container;
                    }

                    
                    details.appendChild(createDetailItem('ËΩÆÊ¨°', match.ËΩÆÊ¨°));
                    details.appendChild(createDetailItem('ÁªìÊûú', match.ÁªìÊûú));
                    // if(match.Êê≠Ê°£) {
                    //     details.appendChild(createDetailItem('Êê≠Ê°£', match.Êê≠Ê°£));
                    // }
                    // if(match.Êê≠Ê°£) {
                    //     details.appendChild(createDetailItem('Â§¥Ë°î', match.Â§¥Ë°î));
                    // }

                    details.appendChild(createDetailItem('ÂØπÊâã', match.ÂØπÊâã));
                    details.appendChild(createDetailItem('ÊØîÂàÜ', match.ÊØîÂàÜ));

                    // ÁªÑÂêàÂÖÉÁ¥†
                    card.appendChild(header);
                    card.appendChild(details);
                    contentDiv.appendChild(card);
                });
            } else {
                const empty = document.createElement('div');
                empty.className = 'no-matches';
                empty.textContent = 'ÊöÇÊó†ËØ•Á∫ßÂà´ÁöÑÊØîËµõÊï∞ÊçÆ';
                contentDiv.appendChild(empty);
            }

            // ÂêåÊ≠•Ë∑ØÂæÑÂíåËèúÂçïÁä∂ÊÄÅ
            currentPath = ['ÂΩìÂâçÈ°µ:È¶ñÈ°µ', category, year, matchName, property];
            syncMenuState(4);
            updateBreadcrumb();
        }

        function handlePathNavigation(...pathSegments) {
            currentPath = ['ÂΩìÂâçÈ°µ:', ...pathSegments];
            updateHistory(currentPath);
            syncMenuState(pathSegments.length);
            updateBreadcrumb();
            loadContentByPath();
        }



        function createMenuItem(text, level, isFinal = false) {
            const item = document.createElement('div');
            item.className = `nav-item level-${level}${isFinal ? ' final-item' : ''}`;
            item.textContent = text;
            item.style.paddingLeft = `${30 + level * 20}px`;

            if (!isFinal) {
                const arrow = document.createElement('span');
                arrow.className = 'nav-arrow';
                arrow.textContent = '‚ñ∂';
                item.prepend(arrow);
            }
            return item;
        }

        // ÂàùÂßãÂåñËèúÂçï
        async function initMenu() {
            try {
                const response = await fetch('data.json');
                data = await response.json();
                const navContainer = document.getElementById('navTreeContainer');
                createMenu(navContainer, data); // ÂàõÂª∫ËèúÂçïÊ†ë
                currentPath = ['ÂΩìÂâçÈ°µ:È¶ñÈ°µ'];
                historyStack = [JSON.parse(JSON.stringify(currentPath))];
                currentIndex = 0;
                syncMenuState(0);
                updateBreadcrumb();
                loadHomeContent();
            } catch (error) {
                console.error('Êï∞ÊçÆÂä†ËΩΩÂ§±Ë¥•:', error);
                alert('Êï∞ÊçÆÂä†ËΩΩÂ§±Ë¥•ÔºåËØ∑Ê£ÄÊü•data.jsonÊñá‰ª∂');
            }
            
        }

        function showAlert() {
            alert("ËØ•ÂäüËÉΩÊ≠£Âú®ÂºÄÂèë‰∏≠ÔºåÊï¨ËØ∑ÊúüÂæÖÔºÅ");
        }

        // document.getElementById('messageInput').addEventListener('keydown', function(e) {
        //     if (e.key === 'Enter' && !e.shiftKey) {
        //         e.preventDefault(); // ÈòªÊ≠¢ÈªòËÆ§Êç¢Ë°åË°å‰∏∫
        //         submitMessage();
        //     }
        // });
        // document.addEventListener('DOMContentLoaded', function() {
        //     // 4. Ê∑ªÂä†Á©∫ÂÄºÊ£ÄÊü•
        //     const input = document.getElementById('messageInput');
        //     if (!input) throw new Error("ÂÖÉÁ¥†Êú™ÊâæÂà∞");

        //     input.addEventListener('keydown', function(e) {
        //         if (e.key === 'Enter' && !e.shiftKey) {
        //             e.preventDefault();
        //             submitMessage();
        //         }
        //     });
        // });


        // ÊêúÁ¥¢ÂäüËÉΩÂÆûÁé∞
        document.addEventListener('DOMContentLoaded', function() {
            // ÁªëÂÆöÊêúÁ¥¢ÊåâÈíÆ
            const searchBtn = document.querySelector('.search-btn');
            if (searchBtn) {
                searchBtn.addEventListener('click', performSearch);
            } else {
                console.error('ÊêúÁ¥¢ÊåâÈíÆÂÖÉÁ¥†Êú™ÊâæÂà∞ÔºÅ');
            }

            // ÁªëÂÆöËæìÂÖ•Ê°ÜÂõûËΩ¶‰∫ã‰ª∂
            const searchInput = document.querySelector('.search-input');
            if (searchInput) {
                searchInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') performSearch();
                });
            } else {
                console.error('ÊêúÁ¥¢ËæìÂÖ•Ê°ÜÂÖÉÁ¥†Êú™ÊâæÂà∞ÔºÅ');
            }
        });

        function performSearch() {
            const searchType = document.getElementById('searchType').value;
            const keyword = document.querySelector('.search-input').value.trim();
            currentSearchKeyword = keyword;
            const alertEl = document.querySelector('.search-alert');

            // ÈöêËóè‰πãÂâçÁöÑÊèêÁ§∫
            alertEl.classList.remove('show');

            // Á©∫ÂÄºÊ†°È™å
            if (!keyword) {
                alertEl.textContent = "ÊêúÁ¥¢ÂÜÖÂÆπ‰∏çËÉΩ‰∏∫Á©∫ÔºåËØ∑ËæìÂÖ•ÂÖ≥ÈîÆËØç";
                alertEl.classList.add('show');
                
                // 2ÁßíÂêéËá™Âä®ÈöêËóè
                setTimeout(() => {
                    alertEl.classList.remove('show');
                }, 2000);
                
                // Ëá™Âä®ËÅöÁÑ¶ËæìÂÖ•Ê°Ü
                document.querySelector('.search-input').focus();
                return;
            }
            
            if (searchType === 'event') {
                const results = searchMatches(keyword);
                displaySearchResults(results, 'event');
            } else if (searchType === 'player') {
                const results = searchByPlayer(keyword);
                displaySearchResults(results, 'player');
            } else if (searchType === 'medal') {
                const results = searchByMedal(keyword);
                displaySearchResults(results, 'medal');
            } else if (searchType === 'year') {
                const results = searchByYear(keyword);
                displaySearchResults(results, 'year');
            }
            updateHistory(currentPath);
            updateBreadcrumb();
        }

        function searchByYear(keyword) {
            const results = [];
            Object.entries(data).forEach(([category, years]) => {
                if (years.hasOwnProperty(keyword)) {
                    years[keyword].forEach(match => {
                        const matchName = Object.keys(match.ÊØîËµõÂêçÁß∞)[0];
                        const properties = match.ÊØîËµõÂêçÁß∞[matchName].ÊÄßË¥®;
                        const propertyCount = properties.length;

                        // ÂéªÈáçÂà§Êñ≠
                        const existing = results.find(r => 
                            r.matchName === matchName && 
                            r.category === category &&
                            r.year === keyword
                        );

                        if (!existing) {
                            results.push({
                                category,
                                year: keyword,
                                matchName,
                                propertyCount
                            });
                        }
                    });
                }
            });
            return results;
        }

        function searchByMedal(keyword) {
            const normalizedKeyword = keyword.replace(/[ÁâåÂÜõ]/g, '').trim(); // Áªü‰∏ÄÂÖ≥ÈîÆËØçÊ†ºÂºè
            const searchTerms = [];
            
            // Âª∫Á´ãÂ•ñÁâåÊò†Â∞ÑÂÖ≥Á≥ª
            const medalMap = {
                'ÂÜ†': ['ÂÜ†ÂÜõ'],
                '‰∫ö': ['‰∫öÂÜõ'],
                'Èìú': ['ÈìúÁâå', 'Â≠£ÂÜõ'],
                'Â≠£': ['ÈìúÁâå', 'Â≠£ÂÜõ'],
                'gold': ['ÂÜ†ÂÜõ'],       // ÊîØÊåÅËã±Êñá
                'silver': ['‰∫öÂÜõ'],
                'bronze': ['ÈìúÁâå', 'Â≠£ÂÜõ']
            };

            // Â§ÑÁêÜÊêúÁ¥¢ËØç
            if (medalMap[normalizedKeyword]) {
                searchTerms.push(...medalMap[normalizedKeyword]);
            } else {
                // ÂÖºÂÆπÂÖ®Áß∞ÊêúÁ¥¢
                const fullNameMap = {
                    'Èáë': ['ÂÜ†ÂÜõ'],
                    'Èì∂': ['‰∫öÂÜõ'],
                    'ÂÜ†ÂÜõ': ['ÂÜ†ÂÜõ'],
                    '‰∫öÂÜõ': ['‰∫öÂÜõ'],
                    'ÈìúÁâå': ['ÈìúÁâå', 'Â≠£ÂÜõ'],
                    'Â≠£ÂÜõ': ['ÈìúÁâå', 'Â≠£ÂÜõ']
                };
                searchTerms.push(...(fullNameMap[keyword] || [keyword]));
            }

            const results = [];
            Object.entries(data).forEach(([category, years]) => {
                Object.entries(years).forEach(([year, matches]) => {
                    matches.forEach(match => {
                        const matchName = Object.keys(match.ÊØîËµõÂêçÁß∞)[0];
                        const matchData = match.ÊØîËµõÂêçÁß∞[matchName];
                        
                        matchData.ÊÄßË¥®?.forEach(propertyObj => {
                            Object.entries(propertyObj).forEach(([propName, records]) => {
                                const medalRecords = records.filter(record => {
                                    const title = record.Â§¥Ë°î?.trim() || '';
                                    return searchTerms.some(term => 
                                        title.includes(term)
                                    );
                                });
                                
                                if (medalRecords.length > 0) {
                                    // ‰øÆÊîπÂéªÈáçÈÄªËæëÔºöÂ¢ûÂä†category/year/propName‰Ωú‰∏∫Âà§Êñ≠Êù°‰ª∂
                                    const existing = results.find(r => 
                                        r.matchName === matchName &&
                                        r.property === propName && 
                                        r.category === category &&  // Êñ∞Â¢ûÁ±ªÂà´Âà§Êñ≠
                                        r.year === year              // Êñ∞Â¢ûÂπ¥‰ªΩÂà§Êñ≠
                                    );
                                    
                                    if (!existing) {
                                        results.push({
                                            category,
                                            year,
                                            matchName,
                                            property: propName,
                                            // ÂêàÂπ∂Âêå‰∏ÄÊÄßË¥®‰∏ãÁöÑÂ§ö‰∏™Â•ñÁâå
                                            medals: [...new Set(medalRecords.map(r => r.Â§¥Ë°î))]
                                        });
                                    } else {
                                        // ÂêàÂπ∂Âêå‰∏ÄÊÄßË¥®‰∏ãÁöÑ‰∏çÂêåÂ•ñÁâåÔºàÂ¶ÇÂçïÂú∫Ëµõ‰∫ãÂêå‰∏ÄÊÄßË¥®Â§ö‰∏™Â•ñÁâåÔºâ
                                        existing.medals = [
                                            ...new Set([...existing.medals, 
                                            ...medalRecords.map(r => r.Â§¥Ë°î)])
                                        ];
                                    }
                                }
                            });
                        });
                    });
                });
            });
            return results;
        }

        
        function searchMatches(keyword) {
            const results = [];
            
            Object.entries(data).forEach(([category, years]) => {
                Object.entries(years).forEach(([year, matches]) => {
                    matches.forEach(match => {
                        const matchName = Object.keys(match.ÊØîËµõÂêçÁß∞)[0];
                        if (matchName.includes(keyword)) {
                            results.push({
                                category,
                                year,
                                matchName,
                                data: match.ÊØîËµõÂêçÁß∞[matchName]
                            });
                        }
                    });
                });
            });
            
            return results;
        }

        function searchByPlayer(keyword) {
            const results = [];
            
            Object.entries(data).forEach(([category, years]) => {
                Object.entries(years).forEach(([year, matches]) => {
                    matches.forEach(match => {
                        const matchName = Object.keys(match.ÊØîËµõÂêçÁß∞)[0];
                        const matchData = match.ÊØîËµõÂêçÁß∞[matchName];
                        
                        matchData.ÊÄßË¥®.forEach(propertyObj => {
                            Object.entries(propertyObj).forEach(([propName, records]) => {
                                records.forEach(record => {
                                    if (record.ÂØπÊâã) {
                                        if (record.ÂØπÊâã.toLowerCase().includes(keyword.toLowerCase())) {
                                        // ÊØè‰∏™ÂåπÈÖçËÆ∞ÂΩïÁîüÊàêÁã¨Á´ãÊù°ÁõÆ
                                            results.push({
                                                category,
                                                year,
                                                matchName,
                                                property: propName,
                                                opponent: record.ÂØπÊâã,
                                                score: record.ÊØîÂàÜ,
                                                result: record.ÁªìÊûú
                                            });
                                        }
                                    }
                                    
                                });
                            });
                        });
                    });
                });
            });
            
            return results;
        }


        function displaySearchResults(results, searchType) {
            const contentDiv = document.querySelector('.content');
            contentDiv.innerHTML = `<h2 style="color: #2F4F4F; margin-bottom: 20px;">ÊêúÁ¥¢ÁªìÊûúÔºà${results.length}Êù°Ôºâ</h2>`;
            
            if (results.length === 0) {
                contentDiv.innerHTML += '<div class="no-matches">Êú™ÊâæÂà∞ÂåπÈÖçÁöÑËµõ‰∫ã</div>';
                return;
            }

            const container = document.createElement('div');
            container.className = 'match-list';
            container.style.padding = '20px';
            

            if (searchType === 'event') {
                results.forEach(result => {
                const card = document.createElement('div');
                card.className = 'nav-item level-2';
                card.style.cssText = `
                    margin: 10px; 
                    padding: 15px;
                    background: rgba(95,158,160,0.1);
                    border-radius: 8px;
                    cursor: pointer;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                `;

                const properties = result.data.ÊÄßË¥® || [];
                const propertyCount = properties.length;

                card.innerHTML = `
                    <div>
                        <span style="color:#2F4F4F">${result.matchName}</span>
                        <div style="font-size:12px;color:#666;margin-top:5px">
                            ${result.year} | ${result.category}
                        </div>
                    </div>
                    <span style="font-size:14px;color:#5F9EA0">
                        ÂåÖÂê´ ${propertyCount} ‰∏™È°πÁõÆ
                    </span>
                `;

                card.addEventListener('click', () => {
                    currentPath = [
                        'ÂΩìÂâçÈ°µ:È¶ñÈ°µ',
                        result.category,
                        result.year,
                        result.matchName
                    ];
                    syncMenuState(3);
                    updateBreadcrumb();
                    loadMatchContent(result.category, result.year, result.matchName);
                });

                container.appendChild(card);
            });} else if (searchType === 'player') {
                // Êñ∞Â¢ûÈÄâÊâãÂ±ïÁ§∫ÈÄªËæë
                results.forEach(result => {
                    const card = document.createElement('div');
                    card.className = 'match-card';
                    card.style.cursor = 'pointer';

                    card.innerHTML = `
                        <div class="match-header">
                            <span class="match-round">${result.matchName}</span>
                            <span class="match-result" style="background:#5F9EA0">
                                ${result.year} | ${result.category} 
                            </span>
                        </div>
                        <div style="margin-top:15px">
                            <div style="display:flex;justify-content:space-between;padding:8px 0">
                                <span>${result.property.toUpperCase()}-${result.opponent}</span>
                                <span style="color:${result.result === 'ËÉú' ? '#5F9EA0' : '#CD5C5C'}">
                                    ${result.score}Ôºà${result.result}Ôºâ
                                </span>
                            </div>
                        </div>
                    `;

                    // ÁÇπÂáªË∑≥ËΩ¨Âà∞ËØ¶ÁªÜËµõ‰∫ã
                    card.addEventListener('click', () => {
                        currentPath = [
                            'ÂΩìÂâçÈ°µ:È¶ñÈ°µ',
                            result.category,
                            result.year,
                            result.matchName,
                            result.property
                        ];
                        syncMenuState(4);
                        updateBreadcrumb();
                        loadContentByPath();
                    });

                    container.appendChild(card);
                });
            } else if (searchType === 'medal') {
                const container = document.createElement('div');
                container.className = 'match-list';
                
                results.forEach(result => {
                    const card = document.createElement('div');
                    card.className = 'nav-item level-2';
                    card.style.cssText = `margin:10px;padding:15px;background:rgba(95,158,160,0.1);border-radius:8px;`;

                    card.innerHTML = `
                        <div style="width:100%">
                            <div style="display:flex;justify-content:space-between">
                                <span style="color:#2F4F4F">${result.matchName}-${result.property}</span>
                                <span style="font-size:12px;color:#666">
                                    ${result.year}ÔΩú${result.category}
                                </span>
                            </div>
                            <div style="margin-top:10px;color:#5F9EA0">
                                üèÖ ${result.medals.join('„ÄÅ')}
                            </div>
                        </div>
                    `;

                    card.addEventListener('click', () => {
                        currentPath = [
                            'ÂΩìÂâçÈ°µ:È¶ñÈ°µ',
                            result.category,
                            result.year,
                            result.matchName,
                            result.property
                        ];
                        syncMenuState(4);
                        updateBreadcrumb();
                        loadContentByPath();
                    });

                    container.appendChild(card);
                });
                contentDiv.appendChild(container);
                return;
            } else if (searchType === 'year') {
                const container = document.createElement('div');
                container.className = 'match-list';
                container.style.padding = '20px';

                results.forEach(result => {
                    const card = document.createElement('div');
                    card.className = 'nav-item level-2';
                    card.style.cssText = `
                        margin: 10px;
                        padding: 15px;
                        background: rgba(95,158,160,0.1);
                        border-radius: 8px;
                        cursor: pointer;
                        display: flex;
                        justify-content: space-between;
                        align-items: center;
                    `;

                    card.innerHTML = `
                        <div>
                            <span style="color:#2F4F4F">${result.matchName}</span>
                            <div style="font-size:12px;color:#666;margin-top:5px">
                                ${result.year} | ${result.category}
                            </div>
                        </div>
                        <span style="font-size:14px;color:#5F9EA0">
                            ÂåÖÂê´ ${result.propertyCount} ‰∏™È°πÁõÆ
                        </span>
                    `;

                    card.addEventListener('click', () => {
                        currentPath = [
                            'ÂΩìÂâçÈ°µ:È¶ñÈ°µ',
                            result.category,
                            result.year,
                            result.matchName
                        ];
                        syncMenuState(3);
                        updateBreadcrumb();
                        loadMatchContent(result.category, result.year, result.matchName);
                    });

                    container.appendChild(card);
                });

                contentDiv.appendChild(container);
                return;
            }

            contentDiv.appendChild(container);
        }

        function groupByMatch(results) {
            const groups = [];
            
            results.forEach(result => {
                // Êü•ÊâæÊòØÂê¶Â∑≤ÊúâËØ•ÊØîËµõÁöÑÁªÑ
                let group = groups.find(g => 
                    g.matchName === result.matchName &&
                    g.category === result.category &&
                    g.year === result.year
                );
                
                if (!group) {
                    group = {
                        matchName: result.matchName,
                        category: result.category,
                        year: result.year,
                        properties: {}
                    };
                    groups.push(group);
                }
                
                // ÊåâÈ°πÁõÆÂàÜÁªÑ
                if (!group.properties[result.property]) {
                    group.properties[result.property] = [];
                }
                
                group.properties[result.property].push({
                    opponent: result.opponent,
                    score: result.score,
                    result: result.result
                });
            });
            
            return groups;
        }


        function submitMessage() {
            const input = document.getElementById('messageInput');
            if (!input.value.trim()) return;

            // ÂàõÂª∫ÁïôË®ÄÂÖÉÁ¥†
            const message = document.createElement('div');
            message.className = 'message-bubble';
            message.textContent = input.value;

            // ÈöèÊú∫Ê†∑Âºè
            message.style.left = Math.random() * 80 + '%';
            message.style.top = Math.random() * 80 + '%';
            message.style.fontSize = (Math.random() * 20 + 10) + 'px';
            message.style.color = `hsl(${Math.random() * 360}, 70%, 40%)`;
            message.style.transform = `rotate(${Math.random() * 10 - 5}deg)`;

            // Á´ã‰ΩìÊïàÊûú
            message.style.textShadow = `1px 1px 2px rgba(0,0,0,0.2),
                                      -1px -1px 2px rgba(255,255,255,0.5)`;

            // Ê∑ªÂä†Âà†Èô§ÂäüËÉΩ
            message.onclick = () => message.remove();

            document.querySelector('.content').appendChild(message);
            input.value = '';
        }

        // window.addEventListener('DOMContentLoaded', initMenu);
        window.addEventListener('DOMContentLoaded', () => {
        // ÂÖàÂàùÂßãÂåñÊï∞ÊçÆÂÜçÁªëÂÆöÂÖ∂‰ªñ‰∫ã‰ª∂
                initMenu().then(() => {
                    // ÁªëÂÆöÊêúÁ¥¢Áõ∏ÂÖ≥‰∫ã‰ª∂
                    const searchBtn = document.querySelector('.search-btn');
                    searchBtn.addEventListener('click', performSearch);
                    
                    const searchInput = document.querySelector('.search-input');
                    searchInput.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') performSearch();
                    });
        
                    // ÁªëÂÆöÁïôË®ÄÊùø‰∫ã‰ª∂
                    document.getElementById('submitBtn').onclick = submitMessage;
                    document.getElementById('messageInput').onkeydown = function(e) {
                        if (e.key === 'Enter' && !e.shiftKey) {
                            e.preventDefault();
                            submitMessage();
                        }
                    };
                });
            });



    </script>

</head>
    
<body>
    <header class="header">

        <h3 class="title">üèìÂº†Êú¨Êô∫ÂíåÊØîËµõËÆ∞ÂΩïÊ±áÊÄªüèì</h3>


        <div class="search-container">

            <select id="searchType" class="search-filter">
                <option value="event">ÊåâËµõ‰∫ã</option>
                <option value="player">ÊåâÈÄâÊâã</option>
                <option value="medal">ÊåâÂ•ñÁâå</option>
                <option value="year">ÊåâÂπ¥‰ªΩ</option>
            </select>
            <input type="text" class="search-input" placeholder="ËØ∑ËæìÂÖ•ÊêúÁ¥¢ÂÜÖÂÆπ...">
            <button class="search-btn">
                <div class="pingpong-icon">üèì</div>
            </button>
            <div class="search-alert"></div>
        </div>
    </header>
    <div class="content-area">
        <!-- ËøôÈáåÂèØ‰ª•Ê∑ªÂä†ÂÖ∑‰ΩìÂÜÖÂÆπ -->
        <div class="banner">
            <span><b>ÂΩìÂâçÈ°µ:</b></span>
            <div class="nav-buttons">
                <button class="nav-button" onclick="goBack()">‚óÄ</button>
                <button class="nav-button" onclick="goForward()">‚ñ∂</button>
            </div>
        </div>
        <div class="content">
            <!-- <h1>Ê¨¢Ëøé‰ΩøÁî®Â®ú‰∏™Áî∑‰∫∫Á≥ªÁªüv1</h1>
            <p><b>‚ë† ÂèØÂú®Â∑¶‰æßÁöÑÂäüËÉΩÊ†èÈáåÊü•ÁúãËµõ‰∫ãËÆ∞ÂΩï</b></p>
            <p><b>‚ë° ‰ªª‰ΩïbugÂèØÂú®ÂæÆÂçö‰∏≠ËÅîÁ≥ªÊàëÊàñÂú®‰∏ãÊñπÁïôË®Ä</b></p>
            <div class="message-board">
                <textarea id="messageInput" placeholder="Áïô‰∏ã‰Ω†ÁöÑÂª∫ËÆÆÊàñÁ•ùÁ¶è..."></textarea>
                <button id="submitBtn" onclick="submitMessage()">ÂèëÈÄÅÁïôË®Ä ‚úàÔ∏è</button>
            </div> -->
        </div>
    </div>
    <!-- ÂØºËà™Ê†èÂÆπÂô® -->
    <nav class="sidebar">
        <!-- ‰∏äÈÉ®Âå∫Âùó -->
        <div class="menu-item top-item">
            <div onclick="loadCareerAchievements()">ÁîüÊ∂ØÊàêÂ∞±</div>
            <div onclick="loadTechnicalAnalysis()">ÊäÄÊúØÂàÜÊûê</div>
            <div onclick="loadPlayerProfile()">ÂÖ≥‰∫éÈÄâÊâã</div>
            <div onclick="showAlert()">ËØ≠Ë®ÄËÆæÁΩÆ</div>
        </div>

        <!-- ‰∏ãÈÉ®Âå∫Âùó -->
        <div class="menu-item bottom-item" id="navTreeContainer">
            <!-- <div>ËÆæÁΩÆÈ°π1</div>
            <div>ËÆæÁΩÆÈ°π2</div> -->
        </div>
    </nav>
</body>
</html>
